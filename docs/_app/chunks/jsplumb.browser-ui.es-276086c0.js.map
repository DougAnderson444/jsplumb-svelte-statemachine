{"version":3,"file":"jsplumb.browser-ui.es-276086c0.js","sources":["../../../../../node_modules/@jsplumb/browser-ui/js/jsplumb.browser-ui.es.js"],"sourcesContent":["import { NONE, cls, CLASS_CONNECTOR, CLASS_ENDPOINT, att, ATTRIBUTE_GROUP, CLASS_OVERLAY, ATTRIBUTE_TABINDEX, EVENT_ZOOM, SELECTOR_MANAGED_ELEMENT, ATTRIBUTE_NOT_DRAGGABLE, SOURCE, TARGET, INTERCEPT_BEFORE_DRAG, INTERCEPT_BEFORE_START_DETACH, ATTRIBUTE_SCOPE_PREFIX, REDROP_POLICY_ANY, CHECK_DROP_ALLOWED, classList, EVENT_MAX_CONNECTIONS, IS_DETACH_ALLOWED, CHECK_CONDITION, INTERCEPT_BEFORE_DETACH, createFloatingAnchor, EndpointRepresentation, ABSOLUTE, Connection, Endpoint, Overlay, BLOCK, STATIC, FIXED, ATTRIBUTE_MANAGED, isLabelOverlay, isArrowOverlay, isDiamondOverlay, isPlainArrowOverlay, isCustomOverlay, JsPlumbInstance, DotEndpoint, RectangleEndpoint, BlankEndpoint } from '@jsplumb/core';\nimport { isString, forEach, fastTrim, log, removeWithFunction, uuid, snapToGrid, extend, findWithFunction, wrap, getWithFunction, getFromSetWithFunction, intersects, merge, each, getAllWithFunction, functionChain, isObject, addToDictionary, isAssignableFrom, fromArray, isFunction } from '@jsplumb/util';\nimport { WILDCARD, FALSE as FALSE$1, TRUE as TRUE$1, UNDEFINED } from '@jsplumb/common';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction matchesSelector$1(el, selector, ctx) {\n  ctx = ctx || el.parentNode;\n  var possibles = ctx.querySelectorAll(selector);\n  for (var i = 0; i < possibles.length; i++) {\n    if (possibles[i] === el) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction consume(e, doNotPreventDefault) {\n  if (e.stopPropagation) {\n    e.stopPropagation();\n  } else {\n    e.returnValue = false;\n  }\n  if (!doNotPreventDefault && e.preventDefault) {\n    e.preventDefault();\n  }\n}\nfunction findParent(el, selector, container, matchOnElementAlso) {\n  if (matchOnElementAlso && matchesSelector$1(el, selector, container)) {\n    return el;\n  } else {\n    el = el.parentNode;\n  }\n  while (el != null && el !== container) {\n    if (matchesSelector$1(el, selector)) {\n      return el;\n    } else {\n      el = el.parentNode;\n    }\n  }\n}\nfunction getEventSource(e) {\n  return e.srcElement || e.target;\n}\nfunction _setClassName(el, cn, classList) {\n  cn = fastTrim(cn);\n  if (typeof el.className.baseVal !== \"undefined\") {\n    el.className.baseVal = cn;\n  } else {\n    el.className = cn;\n  }\n  try {\n    var cl = el.classList;\n    if (cl != null) {\n      while (cl.length > 0) {\n        cl.remove(cl.item(0));\n      }\n      for (var i = 0; i < classList.length; i++) {\n        if (classList[i]) {\n          cl.add(classList[i]);\n        }\n      }\n    }\n  } catch (e) {\n    log(\"JSPLUMB: cannot set class list\", e);\n  }\n}\nfunction _getClassName(el) {\n  return el.className != null ? typeof el.className.baseVal === \"undefined\" ? el.className : el.className.baseVal : \"\";\n}\nfunction _classManip(el, classesToAdd, classesToRemove) {\n  var cta = classesToAdd == null ? [] : Array.isArray(classesToAdd) ? classesToAdd : classesToAdd.split(/\\s+/);\n  var ctr = classesToRemove == null ? [] : Array.isArray(classesToRemove) ? classesToRemove : classesToRemove.split(/\\s+/);\n  var className = _getClassName(el),\n      curClasses = className.split(/\\s+/);\n  var _oneSet = function _oneSet(add, classes) {\n    for (var i = 0; i < classes.length; i++) {\n      if (add) {\n        if (curClasses.indexOf(classes[i]) === -1) {\n          curClasses.push(classes[i]);\n        }\n      } else {\n        var idx = curClasses.indexOf(classes[i]);\n        if (idx !== -1) {\n          curClasses.splice(idx, 1);\n        }\n      }\n    }\n  };\n  _oneSet(true, cta);\n  _oneSet(false, ctr);\n  _setClassName(el, curClasses.join(\" \"), curClasses);\n}\nfunction isNodeList(el) {\n  return !isString(el) && !Array.isArray(el) && el.length != null && el.documentElement == null && el.nodeType == null;\n}\nfunction isArrayLike(el) {\n  return !isString(el) && (Array.isArray(el) || isNodeList(el));\n}\nfunction getClass(el) {\n  return _getClassName(el);\n}\nfunction addClass(el, clazz) {\n  var _one = function _one(el, clazz) {\n    if (el != null && clazz != null && clazz.length > 0) {\n      if (el.classList) {\n        var parts = fastTrim(clazz).split(/\\s+/);\n        forEach(parts, function (part) {\n          el.classList.add(part);\n        });\n      } else {\n        _classManip(el, clazz);\n      }\n    }\n  };\n  if (isNodeList(el)) {\n    forEach(el, function (el) {\n      return _one(el, clazz);\n    });\n  } else {\n    _one(el, clazz);\n  }\n}\nfunction hasClass(el, clazz) {\n  if (el.classList) {\n    return el.classList.contains(clazz);\n  } else {\n    return _getClassName(el).indexOf(clazz) !== -1;\n  }\n}\nfunction removeClass(el, clazz) {\n  var _one = function _one(el, clazz) {\n    if (el != null && clazz != null && clazz.length > 0) {\n      if (el.classList) {\n        var parts = fastTrim(clazz).split(/\\s+/);\n        parts.forEach(function (part) {\n          el.classList.remove(part);\n        });\n      } else {\n        _classManip(el, null, clazz);\n      }\n    }\n  };\n  if (isNodeList(el)) {\n    forEach(el, function (el) {\n      return _one(el, clazz);\n    });\n  } else {\n    _one(el, clazz);\n  }\n}\nfunction toggleClass(el, clazz) {\n  var _this = this;\n  var _one = function _one(el, clazz) {\n    if (el != null && clazz != null && clazz.length > 0) {\n      if (el.classList) {\n        el.classList.toggle(clazz);\n      } else {\n        if (_this.hasClass(el, clazz)) {\n          _this.removeClass(el, clazz);\n        } else {\n          _this.addClass(el, clazz);\n        }\n      }\n    }\n  };\n  if (isNodeList(el)) {\n    forEach(el, function (el) {\n      return _one(el, clazz);\n    });\n  } else {\n    _one(el, clazz);\n  }\n}\nfunction createElement(tag, style, clazz, atts) {\n  return createElementNS(null, tag, style, clazz, atts);\n}\nfunction createElementNS(ns, tag, style, clazz, atts) {\n  var e = ns == null ? document.createElement(tag) : document.createElementNS(ns, tag);\n  var i;\n  style = style || {};\n  for (i in style) {\n    e.style[i] = style[i];\n  }\n  if (clazz) {\n    e.className = clazz;\n  }\n  atts = atts || {};\n  for (i in atts) {\n    e.setAttribute(i, \"\" + atts[i]);\n  }\n  return e;\n}\nfunction offsetRelativeToRoot(el) {\n  var box = el.getBoundingClientRect(),\n      body = document.body,\n      docElem = document.documentElement,\n  scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\n      scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\n  clientTop = docElem.clientTop || body.clientTop || 0,\n      clientLeft = docElem.clientLeft || body.clientLeft || 0,\n  top = box.top + scrollTop - clientTop,\n      left = box.left + scrollLeft - clientLeft;\n  return {\n    x: Math.round(left),\n    y: Math.round(top)\n  };\n}\nfunction size(el) {\n  return {\n    w: el.offsetWidth,\n    h: el.offsetHeight\n  };\n}\n\nvar svgAttributeMap = {\n  \"stroke-linejoin\": \"stroke-linejoin\",\n  \"stroke-dashoffset\": \"stroke-dashoffset\",\n  \"stroke-linecap\": \"stroke-linecap\"\n};\nvar STROKE_DASHARRAY = \"stroke-dasharray\";\nvar DASHSTYLE = \"dashstyle\";\nvar FILL = \"fill\";\nvar STROKE = \"stroke\";\nvar STROKE_WIDTH = \"stroke-width\";\nvar LINE_WIDTH = \"strokeWidth\";\nvar ELEMENT_SVG = \"svg\";\nvar ELEMENT_PATH = \"path\";\nvar ns = {\n  svg: \"http://www.w3.org/2000/svg\"\n};\nfunction _attr(node, attributes) {\n  for (var i in attributes) {\n    node.setAttribute(i, \"\" + attributes[i]);\n  }\n}\nfunction _node(name, attributes) {\n  attributes = attributes || {};\n  attributes.version = \"1.1\";\n  attributes.xmlns = ns.svg;\n  return createElementNS(ns.svg, name, null, null, attributes);\n}\nfunction _pos(d) {\n  return \"position:absolute;left:\" + d[0] + \"px;top:\" + d[1] + \"px\";\n}\nfunction _applyStyles(parent, node, style) {\n  node.setAttribute(FILL, style.fill ? style.fill : NONE);\n  node.setAttribute(STROKE, style.stroke ? style.stroke : NONE);\n  if (style.strokeWidth) {\n    node.setAttribute(STROKE_WIDTH, style.strokeWidth);\n  }\n  if (style[DASHSTYLE] && style[LINE_WIDTH] && !style[STROKE_DASHARRAY]) {\n    var sep = style[DASHSTYLE].indexOf(\",\") === -1 ? \" \" : \",\",\n        parts = style[DASHSTYLE].split(sep),\n        styleToUse = \"\";\n    forEach(parts, function (p) {\n      styleToUse += Math.floor(p * style.strokeWidth) + sep;\n    });\n    node.setAttribute(STROKE_DASHARRAY, styleToUse);\n  } else if (style[STROKE_DASHARRAY]) {\n    node.setAttribute(STROKE_DASHARRAY, style[STROKE_DASHARRAY]);\n  }\n  for (var i in svgAttributeMap) {\n    if (style[i]) {\n      node.setAttribute(svgAttributeMap[i], style[i]);\n    }\n  }\n}\nfunction _appendAtIndex(svg, path, idx) {\n  if (svg.childNodes.length > idx) {\n    svg.insertBefore(path, svg.childNodes[idx]);\n  } else {\n    svg.appendChild(path);\n  }\n}\nfunction _size(svg, x, y, w, h) {\n  svg.style.width = w + \"px\";\n  svg.style.height = h + \"px\";\n  svg.style.left = x + \"px\";\n  svg.style.top = y + \"px\";\n  svg.height = h;\n  svg.width = w;\n}\n\nfunction compoundEvent(stem, event, subevent) {\n  var a = [stem, event];\n  if (subevent) {\n    a.push(subevent);\n  }\n  return a.join(\":\");\n}\nvar ATTRIBUTE_CONTAINER = \"data-jtk-container\";\nvar ATTRIBUTE_GROUP_CONTENT = \"data-jtk-group-content\";\nvar ATTRIBUTE_JTK_ENABLED = \"data-jtk-enabled\";\nvar ATTRIBUTE_JTK_SCOPE = \"data-jtk-scope\";\nvar ENDPOINT = \"endpoint\";\nvar ELEMENT = \"element\";\nvar CONNECTION = \"connection\";\nvar ELEMENT_DIV = \"div\";\nvar EVENT_CLICK = \"click\";\nvar EVENT_CONTEXTMENU = \"contextmenu\";\nvar EVENT_DBL_CLICK = \"dblclick\";\nvar EVENT_DBL_TAP = \"dbltap\";\nvar EVENT_FOCUS = \"focus\";\nvar EVENT_MOUSEDOWN = \"mousedown\";\nvar EVENT_MOUSEENTER = \"mouseenter\";\nvar EVENT_MOUSEEXIT = \"mouseexit\";\nvar EVENT_MOUSEMOVE = \"mousemove\";\nvar EVENT_MOUSEUP = \"mouseup\";\nvar EVENT_MOUSEOUT = \"mouseout\";\nvar EVENT_MOUSEOVER = \"mouseover\";\nvar EVENT_TAP = \"tap\";\nvar EVENT_DRAG_MOVE = \"drag:move\";\nvar EVENT_DRAG_STOP = \"drag:stop\";\nvar EVENT_DRAG_START = \"drag:start\";\nvar EVENT_REVERT = \"revert\";\nvar EVENT_CONNECTION_ABORT = \"connection:abort\";\nvar EVENT_CONNECTION_DRAG = \"connection:drag\";\nvar EVENT_ELEMENT_CLICK = compoundEvent(ELEMENT, EVENT_CLICK);\nvar EVENT_ELEMENT_DBL_CLICK = compoundEvent(ELEMENT, EVENT_DBL_CLICK);\nvar EVENT_ELEMENT_DBL_TAP = compoundEvent(ELEMENT, EVENT_DBL_TAP);\nvar EVENT_ELEMENT_MOUSE_OUT = compoundEvent(ELEMENT, EVENT_MOUSEOUT);\nvar EVENT_ELEMENT_MOUSE_OVER = compoundEvent(ELEMENT, EVENT_MOUSEOVER);\nvar EVENT_ELEMENT_MOUSE_MOVE = compoundEvent(ELEMENT, EVENT_MOUSEMOVE);\nvar EVENT_ELEMENT_MOUSE_UP = compoundEvent(ELEMENT, EVENT_MOUSEUP);\nvar EVENT_ELEMENT_MOUSE_DOWN = compoundEvent(ELEMENT, EVENT_MOUSEDOWN);\nvar EVENT_ELEMENT_CONTEXTMENU = compoundEvent(ELEMENT, EVENT_CONTEXTMENU);\nvar EVENT_ELEMENT_TAP = compoundEvent(ELEMENT, EVENT_TAP);\nvar EVENT_ENDPOINT_CLICK = compoundEvent(ENDPOINT, EVENT_CLICK);\nvar EVENT_ENDPOINT_DBL_CLICK = compoundEvent(ENDPOINT, EVENT_DBL_CLICK);\nvar EVENT_ENDPOINT_DBL_TAP = compoundEvent(ENDPOINT, EVENT_DBL_TAP);\nvar EVENT_ENDPOINT_MOUSEOUT = compoundEvent(ENDPOINT, EVENT_MOUSEOUT);\nvar EVENT_ENDPOINT_MOUSEOVER = compoundEvent(ENDPOINT, EVENT_MOUSEOVER);\nvar EVENT_ENDPOINT_MOUSEUP = compoundEvent(ENDPOINT, EVENT_MOUSEUP);\nvar EVENT_ENDPOINT_MOUSEDOWN = compoundEvent(ENDPOINT, EVENT_MOUSEDOWN);\nvar EVENT_ENDPOINT_TAP = compoundEvent(ENDPOINT, EVENT_TAP);\nvar EVENT_CONNECTION_CLICK = compoundEvent(CONNECTION, EVENT_CLICK);\nvar EVENT_CONNECTION_DBL_CLICK = compoundEvent(CONNECTION, EVENT_DBL_CLICK);\nvar EVENT_CONNECTION_DBL_TAP = compoundEvent(CONNECTION, EVENT_DBL_TAP);\nvar EVENT_CONNECTION_MOUSEOUT = compoundEvent(CONNECTION, EVENT_MOUSEOUT);\nvar EVENT_CONNECTION_MOUSEOVER = compoundEvent(CONNECTION, EVENT_MOUSEOVER);\nvar EVENT_CONNECTION_MOUSEUP = compoundEvent(CONNECTION, EVENT_MOUSEUP);\nvar EVENT_CONNECTION_MOUSEDOWN = compoundEvent(CONNECTION, EVENT_MOUSEDOWN);\nvar EVENT_CONNECTION_CONTEXTMENU = compoundEvent(CONNECTION, EVENT_CONTEXTMENU);\nvar EVENT_CONNECTION_TAP = compoundEvent(CONNECTION, EVENT_TAP);\nvar PROPERTY_POSITION = \"position\";\nvar SELECTOR_CONNECTOR = cls(CLASS_CONNECTOR);\nvar SELECTOR_ENDPOINT = cls(CLASS_ENDPOINT);\nvar SELECTOR_GROUP = att(ATTRIBUTE_GROUP);\nvar SELECTOR_GROUP_CONTAINER = att(ATTRIBUTE_GROUP_CONTENT);\nvar SELECTOR_OVERLAY = cls(CLASS_OVERLAY);\n\nfunction _touch(target, pageX, pageY, screenX, screenY, clientX, clientY) {\n  return new Touch({\n    target: target,\n    identifier: uuid(),\n    pageX: pageX,\n    pageY: pageY,\n    screenX: screenX,\n    screenY: screenY,\n    clientX: clientX || screenX,\n    clientY: clientY || screenY\n  });\n}\nfunction _touchList() {\n  var list = [];\n  list.push.apply(list, arguments);\n  list.item = function (index) {\n    return this[index];\n  };\n  return list;\n}\nfunction _touchAndList(target, pageX, pageY, screenX, screenY, clientX, clientY) {\n  return _touchList(_touch(target, pageX, pageY, screenX, screenY, clientX, clientY));\n}\nfunction matchesSelector(el, selector, ctx) {\n  ctx = ctx || el.parentNode;\n  var possibles = ctx.querySelectorAll(selector);\n  for (var i = 0; i < possibles.length; i++) {\n    if (possibles[i] === el) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction _t(e) {\n  return e.srcElement || e.target;\n}\nfunction _pi(e, target, obj, doCompute) {\n  if (!doCompute) return {\n    path: [target],\n    end: 1\n  };else if (typeof e.path !== \"undefined\" && e.path.indexOf) {\n    return {\n      path: e.path,\n      end: e.path.indexOf(obj)\n    };\n  } else {\n    var out = {\n      path: [],\n      end: -1\n    },\n        _one = function _one(el) {\n      out.path.push(el);\n      if (el === obj) {\n        out.end = out.path.length - 1;\n      } else if (el.parentNode != null) {\n        _one(el.parentNode);\n      }\n    };\n    _one(target);\n    return out;\n  }\n}\nfunction _d(l, fn) {\n  var i = 0,\n      j;\n  for (i = 0, j = l.length; i < j; i++) {\n    if (l[i][0] === fn) {\n      break;\n    }\n  }\n  if (i < l.length) {\n    l.splice(i, 1);\n  }\n}\nvar guid = 1;\nvar isTouchDevice = \"ontouchstart\" in document.documentElement || navigator.maxTouchPoints != null && navigator.maxTouchPoints > 0;\nvar isMouseDevice = (\"onmousedown\" in document.documentElement);\nvar touchMap = {\n  \"mousedown\": \"touchstart\",\n  \"mouseup\": \"touchend\",\n  \"mousemove\": \"touchmove\"\n};\nvar PAGE = \"page\";\nvar SCREEN = \"screen\";\nvar CLIENT = \"client\";\nfunction _genLoc(e, prefix) {\n  if (e == null) return {\n    x: 0,\n    y: 0\n  };\n  var ts = touches(e),\n      t = getTouch(ts, 0);\n  return {\n    x: t[prefix + \"X\"],\n    y: t[prefix + \"Y\"]\n  };\n}\nfunction pageLocation(e) {\n  return _genLoc(e, PAGE);\n}\nfunction screenLocation(e) {\n  return _genLoc(e, SCREEN);\n}\nfunction clientLocation(e) {\n  return _genLoc(e, CLIENT);\n}\nfunction getTouch(touches, idx) {\n  return touches.item ? touches.item(idx) : touches[idx];\n}\nfunction touches(e) {\n  return e.touches && e.touches.length > 0 ? e.touches : e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches : e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches : [e];\n}\nfunction touchCount(e) {\n  return touches(e).length;\n}\nfunction _bind(obj, type, fn, originalFn, options) {\n  _store(obj, type, fn);\n  originalFn.__tauid = fn.__tauid;\n  if (obj.addEventListener) {\n    obj.addEventListener(type, fn, false, options);\n  } else if (obj.attachEvent) {\n    var key = type + fn.__tauid;\n    obj[\"e\" + key] = fn;\n    obj[key] = function () {\n      obj[\"e\" + key] && obj[\"e\" + key](window.event);\n    };\n    obj.attachEvent(\"on\" + type, obj[key]);\n  }\n}\nfunction _unbind(obj, type, fn) {\n  var _this = this;\n  if (fn == null) return;\n  _each$1(obj, function (_el) {\n    _unstore(_el, type, fn);\n    if (fn.__tauid != null) {\n      if (_el.removeEventListener) {\n        _el.removeEventListener(type, fn, false);\n        if (isTouchDevice && touchMap[type]) _el.removeEventListener(touchMap[type], fn, false);\n      } else if (_this.detachEvent) {\n        var key = type + fn.__tauid;\n        _el[key] && _el.detachEvent(\"on\" + type, _el[key]);\n        _el[key] = null;\n        _el[\"e\" + key] = null;\n      }\n    }\n    if (fn.__taTouchProxy) {\n      _unbind(obj, fn.__taTouchProxy[1], fn.__taTouchProxy[0]);\n    }\n  });\n}\nfunction _each$1(obj, fn) {\n  if (obj == null) return;\n  var entries = typeof obj === \"string\" ? document.querySelectorAll(obj) : obj.length != null ? obj : [obj];\n  for (var i = 0; i < entries.length; i++) {\n    fn(entries[i]);\n  }\n}\nfunction _store(obj, event, fn) {\n  var g = guid++;\n  obj.__ta = obj.__ta || {};\n  obj.__ta[event] = obj.__ta[event] || {};\n  obj.__ta[event][g] = fn;\n  fn.__tauid = g;\n  return g;\n}\nfunction _unstore(obj, event, fn) {\n  obj.__ta && obj.__ta[event] && delete obj.__ta[event][fn.__tauid];\n  if (fn.__taExtra) {\n    for (var i = 0; i < fn.__taExtra.length; i++) {\n      _unbind(obj, fn.__taExtra[i][0], fn.__taExtra[i][1]);\n    }\n    fn.__taExtra.length = 0;\n  }\n  fn.__taUnstore && fn.__taUnstore();\n}\nvar NOT_SELECTOR_REGEX = /:not\\(([^)]+)\\)/;\nfunction _curryChildFilter(children, obj, fn, evt) {\n  if (children == null) {\n    return fn;\n  } else {\n    var c = children.split(\",\"),\n        pc = [],\n        nc = [];\n    forEach(c, function (sel) {\n      var m = sel.match(NOT_SELECTOR_REGEX);\n      if (m != null) {\n        nc.push(m[1]);\n      } else {\n        pc.push(sel);\n      }\n    });\n    if (nc.length > 0 && pc.length === 0) {\n      pc.push(WILDCARD);\n    }\n    var _fn = function _fn(e) {\n      _fn.__tauid = fn.__tauid;\n      var t = _t(e);\n      var done = false;\n      var target = t;\n      var pathInfo = _pi(e, t, obj, children != null);\n      if (pathInfo.end != -1) {\n        for (var p = 0; !done && p < pathInfo.end; p++) {\n          target = pathInfo.path[p];\n          for (var i = 0; i < nc.length; i++) {\n            if (matchesSelector(target, nc[i], obj)) {\n              return;\n            }\n          }\n          for (var _i = 0; !done && _i < pc.length; _i++) {\n            if (matchesSelector(target, pc[_i], obj)) {\n              fn.apply(target, [e, target]);\n              done = true;\n              break;\n            }\n          }\n        }\n      }\n    };\n    registerExtraFunction(fn, evt, _fn);\n    return _fn;\n  }\n}\nfunction registerExtraFunction(fn, evt, newFn) {\n  fn.__taExtra = fn.__taExtra || [];\n  fn.__taExtra.push([evt, newFn]);\n}\nvar DefaultHandler = function DefaultHandler(obj, evt, fn, children, options) {\n  if (isTouchDevice && touchMap[evt]) {\n    var tfn = _curryChildFilter(children, obj, fn, touchMap[evt]);\n    _bind(obj, touchMap[evt], tfn, fn, options);\n  }\n  if (evt === EVENT_FOCUS && obj.getAttribute(ATTRIBUTE_TABINDEX) == null) {\n    obj.setAttribute(ATTRIBUTE_TABINDEX, \"1\");\n  }\n  _bind(obj, evt, _curryChildFilter(children, obj, fn, evt), fn, options);\n};\nvar _tapProfiles = {\n  \"tap\": {\n    touches: 1,\n    taps: 1\n  },\n  \"dbltap\": {\n    touches: 1,\n    taps: 2\n  },\n  \"contextmenu\": {\n    touches: 2,\n    taps: 1\n  }\n};\nfunction meeHelper(type, evt, obj, target) {\n  for (var i in obj.__tamee[type]) {\n    if (obj.__tamee[type].hasOwnProperty(i)) {\n      obj.__tamee[type][i].apply(target, [evt]);\n    }\n  }\n}\nvar TapHandler = function () {\n  function TapHandler() {\n    _classCallCheck(this, TapHandler);\n  }\n  _createClass(TapHandler, null, [{\n    key: \"generate\",\n    value: function generate(clickThreshold, dblClickThreshold) {\n      return function (obj, evt, fn, children) {\n        if (evt == EVENT_CONTEXTMENU && isMouseDevice) DefaultHandler(obj, evt, fn, children);else {\n          if (obj.__taTapHandler == null) {\n            var tt = obj.__taTapHandler = {\n              tap: [],\n              dbltap: [],\n              down: false,\n              taps: 0,\n              downSelectors: []\n            };\n            var down = function down(e) {\n              var target = _t(e),\n                  pathInfo = _pi(e, target, obj, children != null),\n                  finished = false;\n              for (var p = 0; p < pathInfo.end; p++) {\n                if (finished) return;\n                target = pathInfo.path[p];\n                for (var i = 0; i < tt.downSelectors.length; i++) {\n                  if (tt.downSelectors[i] == null || matchesSelector(target, tt.downSelectors[i], obj)) {\n                    tt.down = true;\n                    setTimeout(clearSingle, clickThreshold);\n                    setTimeout(clearDouble, dblClickThreshold);\n                    finished = true;\n                    break;\n                  }\n                }\n              }\n            },\n                up = function up(e) {\n              if (tt.down) {\n                var target = _t(e),\n                    currentTarget,\n                    pathInfo;\n                tt.taps++;\n                var tc = touchCount(e);\n                for (var eventId in _tapProfiles) {\n                  if (_tapProfiles.hasOwnProperty(eventId)) {\n                    var p = _tapProfiles[eventId];\n                    if (p.touches === tc && (p.taps === 1 || p.taps === tt.taps)) {\n                      for (var i = 0; i < tt[eventId].length; i++) {\n                        pathInfo = _pi(e, target, obj, tt[eventId][i][1] != null);\n                        for (var pLoop = 0; pLoop < pathInfo.end; pLoop++) {\n                          currentTarget = pathInfo.path[pLoop];\n                          if (tt[eventId][i][1] == null || matchesSelector(currentTarget, tt[eventId][i][1], obj)) {\n                            tt[eventId][i][0].apply(currentTarget, [e, currentTarget]);\n                            break;\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            },\n                clearSingle = function clearSingle() {\n              tt.down = false;\n            },\n                clearDouble = function clearDouble() {\n              tt.taps = 0;\n            };\n            obj.__taTapHandler.downHandler = down;\n            obj.__taTapHandler.upHandler = up;\n            DefaultHandler(obj, EVENT_MOUSEDOWN, down);\n            DefaultHandler(obj, EVENT_MOUSEUP, up);\n          }\n          obj.__taTapHandler.downSelectors.push(children);\n          obj.__taTapHandler[evt].push([fn, children]);\n          fn.__taUnstore = function () {\n            if (obj.__taTapHandler != null) {\n              removeWithFunction(obj.__taTapHandler.downSelectors, function (ds) {\n                return ds === children;\n              });\n              _d(obj.__taTapHandler[evt], fn);\n              if (obj.__taTapHandler.downSelectors.length === 0) {\n                _unbind(obj, EVENT_MOUSEDOWN, obj.__taTapHandler.downHandler);\n                _unbind(obj, EVENT_MOUSEUP, obj.__taTapHandler.upHandler);\n                delete obj.__taTapHandler;\n              }\n            }\n          };\n        }\n      };\n    }\n  }]);\n  return TapHandler;\n}();\nvar MouseEnterExitHandler = function () {\n  function MouseEnterExitHandler() {\n    _classCallCheck(this, MouseEnterExitHandler);\n  }\n  _createClass(MouseEnterExitHandler, null, [{\n    key: \"generate\",\n    value: function generate() {\n      var activeElements = [];\n      return function (obj, evt, fn, children) {\n        if (!obj.__tamee) {\n          obj.__tamee = {\n            over: false,\n            mouseenter: [],\n            mouseexit: []\n          };\n          var over = function over(e) {\n            var t = _t(e);\n            if (children == null && t == obj && !obj.__tamee.over || matchesSelector(t, children, obj) && (t.__tamee == null || !t.__tamee.over)) {\n              meeHelper(EVENT_MOUSEENTER, e, obj, t);\n              t.__tamee = t.__tamee || {};\n              t.__tamee.over = true;\n              activeElements.push(t);\n            }\n          },\n              out = function out(e) {\n            var t = _t(e);\n            for (var i = 0; i < activeElements.length; i++) {\n              if (t == activeElements[i] && !matchesSelector(e.relatedTarget || e.toElement, \"*\", t)) {\n                t.__tamee.over = false;\n                activeElements.splice(i, 1);\n                meeHelper(EVENT_MOUSEEXIT, e, obj, t);\n              }\n            }\n          };\n          _bind(obj, EVENT_MOUSEOVER, _curryChildFilter(children, obj, over, EVENT_MOUSEOVER), over);\n          _bind(obj, EVENT_MOUSEOUT, _curryChildFilter(children, obj, out, EVENT_MOUSEOUT), out);\n        }\n        fn.__taUnstore = function () {\n          delete obj.__tamee[evt][fn.__tauid];\n        };\n        _store(obj, evt, fn);\n        obj.__tamee[evt][fn.__tauid] = fn;\n      };\n    }\n  }]);\n  return MouseEnterExitHandler;\n}();\nvar EventManager = function () {\n  function EventManager(params) {\n    _classCallCheck(this, EventManager);\n    _defineProperty(this, \"clickThreshold\", void 0);\n    _defineProperty(this, \"dblClickThreshold\", void 0);\n    _defineProperty(this, \"tapHandler\", void 0);\n    _defineProperty(this, \"mouseEnterExitHandler\", void 0);\n    params = params || {};\n    this.clickThreshold = params.clickThreshold || 250;\n    this.dblClickThreshold = params.dblClickThreshold || 450;\n    this.mouseEnterExitHandler = MouseEnterExitHandler.generate();\n    this.tapHandler = TapHandler.generate(this.clickThreshold, this.dblClickThreshold);\n  }\n  _createClass(EventManager, [{\n    key: \"_doBind\",\n    value: function _doBind(el, evt, fn, children, options) {\n      if (fn == null) return;\n      var jel = el;\n      if (evt === EVENT_TAP || evt === EVENT_DBL_TAP || evt === EVENT_CONTEXTMENU) {\n        this.tapHandler(jel, evt, fn, children, options);\n      } else if (evt === EVENT_MOUSEENTER || evt == EVENT_MOUSEEXIT) this.mouseEnterExitHandler(jel, evt, fn, children, options);else {\n        DefaultHandler(jel, evt, fn, children, options);\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(el, event, children, fn, options) {\n      var _c = fn == null ? null : children,\n          _f = fn == null ? children : fn;\n      this._doBind(el, event, _f, _c, options);\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(el, event, fn) {\n      _unbind(el, event, fn);\n      return this;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(el, event, originalEvent, payload, detail) {\n      var originalIsMouse = isMouseDevice && (typeof MouseEvent === \"undefined\" || originalEvent == null || originalEvent.constructor === MouseEvent);\n      var eventToBind = isTouchDevice && !isMouseDevice && touchMap[event] ? touchMap[event] : event,\n          bindingAMouseEvent = !(isTouchDevice && !isMouseDevice && touchMap[event]);\n      var pl = pageLocation(originalEvent),\n          sl = screenLocation(originalEvent),\n          cl = clientLocation(originalEvent);\n      _each$1(el, function (_el) {\n        var evt;\n        originalEvent = originalEvent || {\n          screenX: sl.x,\n          screenY: sl.y,\n          clientX: cl.x,\n          clientY: cl.y\n        };\n        var _decorate = function _decorate(_evt) {\n          if (payload) {\n            _evt.payload = payload;\n          }\n        };\n        var eventGenerators = {\n          \"TouchEvent\": function TouchEvent(evt) {\n            var touchList = _touchAndList(_el, pl.x, pl.y, sl.x, sl.y, cl.x, cl.y),\n                init = evt.initTouchEvent || evt.initEvent;\n            init(eventToBind, true, true, window, null, sl.x, sl.y, cl.x, cl.y, false, false, false, false, touchList, touchList, touchList, 1, 0);\n          },\n          \"MouseEvents\": function MouseEvents(evt) {\n            evt.initMouseEvent(eventToBind, true, true, window, detail == null ? 1 : detail, sl.x, sl.y, cl.x, cl.y, false, false, false, false, 1, _el);\n          }\n        };\n        var ite = !bindingAMouseEvent && !originalIsMouse && isTouchDevice && touchMap[event],\n            evtName = ite ? \"TouchEvent\" : \"MouseEvents\";\n        evt = document.createEvent(evtName);\n        eventGenerators[evtName](evt);\n        _decorate(evt);\n        _el.dispatchEvent(evt);\n      });\n      return this;\n    }\n  }]);\n  return EventManager;\n}();\n\nfunction findDelegateElement(parentElement, childElement, selector) {\n  if (matchesSelector$1(childElement, selector, parentElement)) {\n    return childElement;\n  } else {\n    var currentParent = childElement.parentNode;\n    while (currentParent != null && currentParent !== parentElement) {\n      if (matchesSelector$1(currentParent, selector, parentElement)) {\n        return currentParent;\n      } else {\n        currentParent = currentParent.parentNode;\n      }\n    }\n  }\n}\nfunction _getPosition(el) {\n  return {\n    x: el.offsetLeft,\n    y: el.offsetTop\n  };\n}\nfunction _getSize(el) {\n  return {\n    w: el.offsetWidth,\n    h: el.offsetHeight\n  };\n}\nfunction _setPosition(el, pos) {\n  el.style.left = pos.x + \"px\";\n  el.style.top = pos.y + \"px\";\n}\nfunction _assignId(obj) {\n  if (typeof obj === \"function\") {\n    obj._katavorioId = uuid();\n    return obj._katavorioId;\n  } else {\n    return obj;\n  }\n}\nfunction isInsideParent(instance, _el, pos) {\n  var p = _el.parentNode,\n      s = instance.getSize(p),\n      ss = instance.getSize(_el),\n      leftEdge = pos.x,\n      rightEdge = leftEdge + ss.w,\n      topEdge = pos.y,\n      bottomEdge = topEdge + ss.h;\n  return rightEdge > 0 && leftEdge < s.w && bottomEdge > 0 && topEdge < s.h;\n}\nfunction findMatchingSelector(availableSelectors, parentElement, childElement) {\n  var el = null;\n  var draggableId = parentElement.getAttribute(\"katavorio-draggable\"),\n      prefix = draggableId != null ? \"[katavorio-draggable='\" + draggableId + \"'] \" : \"\";\n  for (var i = 0; i < availableSelectors.length; i++) {\n    el = findDelegateElement(parentElement, childElement, prefix + availableSelectors[i].selector);\n    if (el != null) {\n      if (availableSelectors[i].filter) {\n        var matches = matchesSelector$1(childElement, availableSelectors[i].filter, el),\n            exclude = availableSelectors[i].filterExclude === true;\n        if (exclude && !matches || matches) {\n          return null;\n        }\n      }\n      return [availableSelectors[i], el];\n    }\n  }\n  return null;\n}\nvar EVENT_START = \"start\";\nvar EVENT_BEFORE_START = \"beforeStart\";\nvar EVENT_DRAG = \"drag\";\nvar EVENT_DROP = \"drop\";\nvar EVENT_OVER = \"over\";\nvar EVENT_OUT = \"out\";\nvar EVENT_STOP = \"stop\";\nvar ATTRIBUTE_DRAGGABLE = \"katavorio-draggable\";\nvar CLASS_DRAGGABLE$1 = ATTRIBUTE_DRAGGABLE;\nvar DEFAULT_GRID_X = 10;\nvar DEFAULT_GRID_Y = 10;\nvar TRUE = function TRUE() {\n  return true;\n};\nvar FALSE = function FALSE() {\n  return false;\n};\nvar _classes = {\n  delegatedDraggable: \"katavorio-delegated-draggable\",\n  draggable: CLASS_DRAGGABLE$1,\n  drag: \"katavorio-drag\",\n  selected: \"katavorio-drag-selected\",\n  noSelect: \"katavorio-drag-no-select\",\n  ghostProxy: \"katavorio-ghost-proxy\",\n  clonedDrag: \"katavorio-clone-drag\"\n};\nvar _events = [EVENT_STOP, EVENT_START, EVENT_DRAG, EVENT_DROP, EVENT_OVER, EVENT_OUT, EVENT_BEFORE_START];\nvar _devNull = function _devNull() {};\nvar _each = function _each(obj, fn) {\n  if (obj == null) return;\n  obj = !isString(obj) && obj.tagName == null && obj.length != null ? obj : [obj];\n  for (var i = 0; i < obj.length; i++) {\n    fn.apply(obj[i], [obj[i]]);\n  }\n};\nvar _inputFilter = function _inputFilter(e, el, collicat) {\n  var t = e.srcElement || e.target;\n  return !matchesSelector$1(t, collicat.getInputFilterSelector(), el);\n};\nvar Base = function () {\n  function Base(el, k) {\n    _classCallCheck(this, Base);\n    this.el = el;\n    this.k = k;\n    _defineProperty(this, \"_class\", void 0);\n    _defineProperty(this, \"uuid\", uuid());\n    _defineProperty(this, \"enabled\", true);\n    _defineProperty(this, \"scopes\", []);\n  }\n  _createClass(Base, [{\n    key: \"setEnabled\",\n    value: function setEnabled(e) {\n      this.enabled = e;\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.enabled;\n    }\n  }, {\n    key: \"toggleEnabled\",\n    value: function toggleEnabled() {\n      this.enabled = !this.enabled;\n    }\n  }, {\n    key: \"addScope\",\n    value: function addScope(scopes) {\n      var m = {};\n      _each(this.scopes, function (s) {\n        m[s] = true;\n      });\n      _each(scopes ? scopes.split(/\\s+/) : [], function (s) {\n        m[s] = true;\n      });\n      this.scopes.length = 0;\n      for (var i in m) {\n        this.scopes.push(i);\n      }\n    }\n  }, {\n    key: \"removeScope\",\n    value: function removeScope(scopes) {\n      var m = {};\n      _each(this.scopes, function (s) {\n        m[s] = true;\n      });\n      _each(scopes ? scopes.split(/\\s+/) : [], function (s) {\n        delete m[s];\n      });\n      this.scopes.length = 0;\n      for (var i in m) {\n        this.scopes.push(i);\n      }\n    }\n  }, {\n    key: \"toggleScope\",\n    value: function toggleScope(scopes) {\n      var m = {};\n      _each(this.scopes, function (s) {\n        m[s] = true;\n      });\n      _each(scopes ? scopes.split(/\\s+/) : [], function (s) {\n        if (m[s]) delete m[s];else m[s] = true;\n      });\n      this.scopes.length = 0;\n      for (var i in m) {\n        this.scopes.push(i);\n      }\n    }\n  }]);\n  return Base;\n}();\nfunction getConstrainingRectangle(el) {\n  return {\n    w: el.parentNode.offsetWidth + el.parentNode.scrollLeft,\n    h: el.parentNode.offsetHeight + el.parentNode.scrollTop\n  };\n}\nvar ContainmentType;\n(function (ContainmentType) {\n  ContainmentType[\"notNegative\"] = \"notNegative\";\n  ContainmentType[\"parent\"] = \"parent\";\n  ContainmentType[\"parentEnclosed\"] = \"parentEnclosed\";\n})(ContainmentType || (ContainmentType = {}));\nvar Drag = function (_Base) {\n  _inherits(Drag, _Base);\n  var _super = _createSuper(Drag);\n  function Drag(el, params, k) {\n    var _this;\n    _classCallCheck(this, Drag);\n    _this = _super.call(this, el, k);\n    _defineProperty(_assertThisInitialized(_this), \"_class\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"rightButtonCanDrag\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"consumeStartEvent\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"clone\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"scroll\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"trackScroll\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_downAt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_posAtDown\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_pagePosAtDown\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_pageDelta\", {\n      x: 0,\n      y: 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_moving\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_lastPosition\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_lastScrollValues\", {\n      x: 0,\n      y: 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_initialScroll\", {\n      x: 0,\n      y: 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_size\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_currentParentPosition\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_ghostParentPosition\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_dragEl\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_multipleDrop\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_ghostProxyOffsets\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_ghostDx\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_ghostDy\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_isConstrained\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_ghostProxyParent\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_useGhostProxy\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_ghostProxyFunction\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_activeSelectorParams\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_availableSelectors\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_canDrag\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_consumeFilteredEvents\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_parent\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_ignoreZoom\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_filters\", {});\n    _defineProperty(_assertThisInitialized(_this), \"_constrainRect\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementToDrag\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"downListener\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"moveListener\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"upListener\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"scrollTracker\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"listeners\", {\n      \"start\": [],\n      \"drag\": [],\n      \"stop\": [],\n      \"over\": [],\n      \"out\": [],\n      \"beforeStart\": [],\n      \"revert\": []\n    });\n    _this._class = _this.k.css.draggable;\n    addClass(_this.el, _this._class);\n    _this.downListener = _this._downListener.bind(_assertThisInitialized(_this));\n    _this.upListener = _this._upListener.bind(_assertThisInitialized(_this));\n    _this.moveListener = _this._moveListener.bind(_assertThisInitialized(_this));\n    _this.rightButtonCanDrag = params.rightButtonCanDrag === true;\n    _this.consumeStartEvent = params.consumeStartEvent !== false;\n    _this._dragEl = _this.el;\n    _this.clone = params.clone === true;\n    _this.scroll = params.scroll === true;\n    _this.trackScroll = params.trackScroll !== false;\n    _this._multipleDrop = params.multipleDrop !== false;\n    _this._canDrag = params.canDrag || TRUE;\n    _this._consumeFilteredEvents = params.consumeFilteredEvents;\n    _this._parent = params.parent;\n    _this._ignoreZoom = params.ignoreZoom === true;\n    _this._ghostProxyParent = params.ghostProxyParent;\n    if (_this.trackScroll) {\n      _this.scrollTracker = _this._trackScroll.bind(_assertThisInitialized(_this));\n      document.addEventListener(\"scroll\", _this.scrollTracker);\n    }\n    if (params.ghostProxy === true) {\n      _this._useGhostProxy = TRUE;\n    } else {\n      if (params.ghostProxy && typeof params.ghostProxy === \"function\") {\n        _this._useGhostProxy = params.ghostProxy;\n      } else {\n        _this._useGhostProxy = function (container, dragEl) {\n          if (_this._activeSelectorParams && _this._activeSelectorParams.useGhostProxy) {\n            return _this._activeSelectorParams.useGhostProxy(container, dragEl);\n          } else {\n            return false;\n          }\n        };\n      }\n    }\n    if (params.makeGhostProxy) {\n      _this._ghostProxyFunction = params.makeGhostProxy;\n    } else {\n      _this._ghostProxyFunction = function (el) {\n        if (_this._activeSelectorParams && _this._activeSelectorParams.makeGhostProxy) {\n          return _this._activeSelectorParams.makeGhostProxy(el);\n        } else {\n          return el.cloneNode(true);\n        }\n      };\n    }\n    if (params.selector) {\n      var draggableId = _this.el.getAttribute(ATTRIBUTE_DRAGGABLE);\n      if (draggableId == null) {\n        draggableId = \"\" + new Date().getTime();\n        _this.el.setAttribute(\"katavorio-draggable\", draggableId);\n      }\n      _this._availableSelectors.push(params);\n    }\n    _this.k.eventManager.on(_this.el, EVENT_MOUSEDOWN, _this.downListener);\n    return _this;\n  }\n  _createClass(Drag, [{\n    key: \"_trackScroll\",\n    value: function _trackScroll(e) {\n      if (this._moving) {\n        var currentScrollValues = {\n          x: document.documentElement.scrollLeft,\n          y: document.documentElement.scrollTop\n        },\n            dsx = currentScrollValues.x - this._lastScrollValues.x,\n            dsy = currentScrollValues.y - this._lastScrollValues.y,\n            _pos = {\n          x: dsx + this._lastPosition.x,\n          y: dsy + this._lastPosition.y\n        },\n        dx = _pos.x - this._downAt.x,\n            dy = _pos.y - this._downAt.y,\n            _z = this._ignoreZoom ? 1 : this.k.getZoom();\n        if (this._dragEl && this._dragEl.parentNode) {\n          dx += this._dragEl.parentNode.scrollLeft - this._initialScroll.x;\n          dy += this._dragEl.parentNode.scrollTop - this._initialScroll.y;\n        }\n        dx /= _z;\n        dy /= _z;\n        this.moveBy(dx, dy, e);\n        this._lastPosition = _pos;\n        this._lastScrollValues = currentScrollValues;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(evt, fn) {\n      if (this.listeners[evt]) {\n        this.listeners[evt].push(fn);\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(evt, fn) {\n      if (this.listeners[evt]) {\n        var l = [];\n        for (var i = 0; i < this.listeners[evt].length; i++) {\n          if (this.listeners[evt][i] !== fn) {\n            l.push(this.listeners[evt][i]);\n          }\n        }\n        this.listeners[evt] = l;\n      }\n    }\n  }, {\n    key: \"_upListener\",\n    value: function _upListener(e) {\n      if (this._downAt) {\n        this._downAt = null;\n        this.k.eventManager.off(document, EVENT_MOUSEMOVE, this.moveListener);\n        this.k.eventManager.off(document, EVENT_MOUSEUP, this.upListener);\n        removeClass(document.body, _classes.noSelect);\n        this.unmark(e);\n        this.stop(e);\n        this._moving = false;\n        if (this.clone) {\n          this._dragEl && this._dragEl.parentNode && this._dragEl.parentNode.removeChild(this._dragEl);\n          this._dragEl = null;\n        } else {\n          if (this._activeSelectorParams && this._activeSelectorParams.revertFunction) {\n            if (this._activeSelectorParams.revertFunction(this._dragEl, _getPosition(this._dragEl)) === true) {\n              _setPosition(this._dragEl, this._posAtDown);\n              this._dispatch(EVENT_REVERT, this._dragEl);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_downListener\",\n    value: function _downListener(e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n      var isNotRightClick = this.rightButtonCanDrag || e.which !== 3 && e.button !== 2;\n      if (isNotRightClick && this.isEnabled() && this._canDrag()) {\n        var _f = this._testFilter(e) && _inputFilter(e, this.el, this.k);\n        if (_f) {\n          this._activeSelectorParams = null;\n          this._elementToDrag = null;\n          if (this._availableSelectors.length === 0) {\n            console.log(\"JSPLUMB: no available drag selectors\");\n          }\n          var eventTarget = e.target || e.srcElement;\n          var match = findMatchingSelector(this._availableSelectors, this.el, eventTarget);\n          if (match != null) {\n            this._activeSelectorParams = match[0];\n            this._elementToDrag = match[1];\n          }\n          if (this._activeSelectorParams == null || this._elementToDrag == null) {\n            return;\n          }\n          var initial = this._activeSelectorParams.dragInit ? this._activeSelectorParams.dragInit(this._elementToDrag) : null;\n          if (initial != null) {\n            this._elementToDrag = initial;\n          }\n          if (this.clone) {\n            this._dragEl = this._elementToDrag.cloneNode(true);\n            addClass(this._dragEl, _classes.clonedDrag);\n            this._dragEl.setAttribute(\"id\", null);\n            this._dragEl.style.position = \"absolute\";\n            if (this._parent != null) {\n              var _p2 = _getPosition(this.el);\n              this._dragEl.style.left = _p2.x + \"px\";\n              this._dragEl.style.top = _p2.y + \"px\";\n              this._parent.appendChild(this._dragEl);\n            } else {\n              var b = offsetRelativeToRoot(this._elementToDrag);\n              this._dragEl.style.left = b.x + \"px\";\n              this._dragEl.style.top = b.y + \"px\";\n              document.body.appendChild(this._dragEl);\n            }\n          } else {\n            this._dragEl = this._elementToDrag;\n          }\n          if (this.consumeStartEvent) {\n            consume(e);\n          }\n          this._downAt = pageLocation(e);\n          if (this._dragEl && this._dragEl.parentNode) {\n            this._initialScroll = {\n              x: this._dragEl.parentNode.scrollLeft,\n              y: this._dragEl.parentNode.scrollTop\n            };\n          }\n          this._posAtDown = _getPosition(this._dragEl);\n          this._pagePosAtDown = offsetRelativeToRoot(this._dragEl);\n          this._pageDelta = {\n            x: this._pagePosAtDown.x - this._posAtDown.x,\n            y: this._pagePosAtDown.y - this._posAtDown.y\n          };\n          this._size = _getSize(this._dragEl);\n          this.k.eventManager.on(document, EVENT_MOUSEMOVE, this.moveListener);\n          this.k.eventManager.on(document, EVENT_MOUSEUP, this.upListener);\n          addClass(document.body, _classes.noSelect);\n          this._dispatch(EVENT_BEFORE_START, {\n            el: this.el,\n            pos: this._posAtDown,\n            e: e,\n            drag: this,\n            size: this._size\n          });\n        } else if (this._consumeFilteredEvents) {\n          consume(e);\n        }\n      }\n    }\n  }, {\n    key: \"_moveListener\",\n    value: function _moveListener(e) {\n      if (this._downAt) {\n        if (!this._moving) {\n          var dispatchResult = this._dispatch(EVENT_START, {\n            el: this.el,\n            pos: this._posAtDown,\n            e: e,\n            drag: this,\n            size: this._size\n          });\n          if (dispatchResult !== false) {\n            if (!this._downAt) {\n              return;\n            }\n            this.mark(dispatchResult);\n            this._moving = true;\n          } else {\n            this.abort();\n          }\n        }\n        if (this._downAt) {\n          var _pos2 = pageLocation(e),\n              dx = _pos2.x - this._downAt.x,\n              dy = _pos2.y - this._downAt.y,\n              _z2 = this._ignoreZoom ? 1 : this.k.getZoom();\n          this._lastPosition = {\n            x: _pos2.x,\n            y: _pos2.y\n          };\n          this._lastScrollValues = {\n            x: document.documentElement.scrollLeft,\n            y: document.documentElement.scrollTop\n          };\n          if (this._dragEl && this._dragEl.parentNode) {\n            dx += this._dragEl.parentNode.scrollLeft - this._initialScroll.x;\n            dy += this._dragEl.parentNode.scrollTop - this._initialScroll.y;\n          }\n          dx /= _z2;\n          dy /= _z2;\n          this.moveBy(dx, dy, e);\n        }\n      }\n    }\n  }, {\n    key: \"mark\",\n    value: function mark(payload) {\n      this._posAtDown = _getPosition(this._dragEl);\n      this._pagePosAtDown = offsetRelativeToRoot(this._dragEl);\n      this._pageDelta = {\n        x: this._pagePosAtDown.x - this._posAtDown.x,\n        y: this._pagePosAtDown.y - this._posAtDown.y\n      };\n      this._size = _getSize(this._dragEl);\n      addClass(this._dragEl, this.k.css.drag);\n      this._constrainRect = getConstrainingRectangle(this._dragEl);\n      this._ghostDx = 0;\n      this._ghostDy = 0;\n    }\n  }, {\n    key: \"unmark\",\n    value: function unmark(e) {\n      if (this._isConstrained && this._useGhostProxy(this._elementToDrag, this._dragEl)) {\n        this._ghostProxyOffsets = {\n          x: this._dragEl.offsetLeft - this._ghostDx,\n          y: this._dragEl.offsetTop - this._ghostDy\n        };\n        this._dragEl.parentNode.removeChild(this._dragEl);\n        this._dragEl = this._elementToDrag;\n      } else {\n        this._ghostProxyOffsets = null;\n      }\n      removeClass(this._dragEl, this.k.css.drag);\n      this._isConstrained = false;\n    }\n  }, {\n    key: \"moveBy\",\n    value: function moveBy(dx, dy, e) {\n      var desiredLoc = this.toGrid({\n        x: this._posAtDown.x + dx,\n        y: this._posAtDown.y + dy\n      }),\n          cPos = this._doConstrain(desiredLoc, this._dragEl, this._constrainRect, this._size);\n      if (this._useGhostProxy(this.el, this._dragEl)) {\n        if (desiredLoc.x !== cPos.x || desiredLoc.y !== cPos.y) {\n          if (!this._isConstrained) {\n            var gp = this._ghostProxyFunction(this._elementToDrag);\n            addClass(gp, _classes.ghostProxy);\n            if (this._ghostProxyParent) {\n              this._ghostProxyParent.appendChild(gp);\n              this._currentParentPosition = offsetRelativeToRoot(this._elementToDrag.parentNode);\n              this._ghostParentPosition = offsetRelativeToRoot(this._ghostProxyParent);\n              this._ghostDx = this._currentParentPosition.x - this._ghostParentPosition.x;\n              this._ghostDy = this._currentParentPosition.y - this._ghostParentPosition.y;\n            } else {\n              this._elementToDrag.parentNode.appendChild(gp);\n            }\n            this._dragEl = gp;\n            this._isConstrained = true;\n          }\n          cPos = desiredLoc;\n        } else {\n          if (this._isConstrained) {\n            this._dragEl.parentNode.removeChild(this._dragEl);\n            this._dragEl = this._elementToDrag;\n            this._isConstrained = false;\n            this._currentParentPosition = null;\n            this._ghostParentPosition = null;\n            this._ghostDx = 0;\n            this._ghostDy = 0;\n          }\n        }\n      }\n      _setPosition(this._dragEl, {\n        x: cPos.x + this._ghostDx,\n        y: cPos.y + this._ghostDy\n      });\n      this._dispatch(EVENT_DRAG, {\n        el: this.el,\n        pos: cPos,\n        e: e,\n        drag: this,\n        size: this._size,\n        originalPos: this._posAtDown\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this._downAt != null) {\n        this._upListener();\n      }\n    }\n  }, {\n    key: \"getDragElement\",\n    value: function getDragElement(retrieveOriginalElement) {\n      return retrieveOriginalElement ? this._elementToDrag || this.el : this._dragEl || this.el;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(e, force) {\n      if (force || this._moving) {\n        var positions = [],\n            dPos = _getPosition(this._dragEl);\n        positions.push([this._dragEl, dPos, this, this._size]);\n        this._dispatch(EVENT_STOP, {\n          el: this._dragEl,\n          pos: this._ghostProxyOffsets || dPos,\n          finalPos: dPos,\n          e: e,\n          drag: this,\n          selection: positions,\n          size: this._size,\n          originalPos: {\n            x: this._posAtDown.x,\n            y: this._posAtDown.y\n          }\n        });\n      } else if (!this._moving) {\n        this._activeSelectorParams.dragAbort ? this._activeSelectorParams.dragAbort(this._elementToDrag) : null;\n      }\n    }\n  }, {\n    key: \"_dispatch\",\n    value: function _dispatch(evt, value) {\n      var result = null;\n      if (this._activeSelectorParams && this._activeSelectorParams[evt]) {\n        result = this._activeSelectorParams[evt](value);\n      } else if (this.listeners[evt]) {\n        for (var i = 0; i < this.listeners[evt].length; i++) {\n          try {\n            var v = this.listeners[evt][i](value);\n            if (v != null) {\n              result = v;\n            }\n          } catch (e) {}\n        }\n      }\n      return result;\n    }\n  }, {\n    key: \"resolveGrid\",\n    value: function resolveGrid() {\n      var out = {\n        grid: null,\n        thresholdX: DEFAULT_GRID_X / 2,\n        thresholdY: DEFAULT_GRID_Y / 2\n      };\n      if (this._activeSelectorParams != null && this._activeSelectorParams.grid != null) {\n        out.grid = this._activeSelectorParams.grid;\n        if (this._activeSelectorParams.snapThreshold != null) {\n          out.thresholdX = this._activeSelectorParams.snapThreshold;\n          out.thresholdY = this._activeSelectorParams.snapThreshold;\n        }\n      }\n      return out;\n    }\n  }, {\n    key: \"toGrid\",\n    value: function toGrid(pos) {\n      var _this$resolveGrid = this.resolveGrid(),\n          grid = _this$resolveGrid.grid,\n          thresholdX = _this$resolveGrid.thresholdX,\n          thresholdY = _this$resolveGrid.thresholdY;\n      if (grid == null) {\n        return pos;\n      } else {\n        var tx = grid ? grid.w / 2 : thresholdX,\n            ty = grid ? grid.h / 2 : thresholdY;\n        return snapToGrid(pos, grid, tx, ty);\n      }\n    }\n  }, {\n    key: \"setUseGhostProxy\",\n    value: function setUseGhostProxy(val) {\n      this._useGhostProxy = val ? TRUE : FALSE;\n    }\n  }, {\n    key: \"_doConstrain\",\n    value: function _doConstrain(pos, dragEl, _constrainRect, _size) {\n      if (this._activeSelectorParams != null && this._activeSelectorParams.constrainFunction && typeof this._activeSelectorParams.constrainFunction === \"function\") {\n        return this._activeSelectorParams.constrainFunction(pos, dragEl, _constrainRect, _size);\n      } else {\n        return pos;\n      }\n    }\n  }, {\n    key: \"_testFilter\",\n    value: function _testFilter(e) {\n      for (var key in this._filters) {\n        var f = this._filters[key];\n        var rv = f[0](e);\n        if (f[1]) {\n          rv = !rv;\n        }\n        if (!rv) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }, {\n    key: \"addFilter\",\n    value: function addFilter(f, _exclude) {\n      var _this2 = this;\n      if (f) {\n        var key = _assignId(f);\n        this._filters[key] = [function (e) {\n          var t = e.srcElement || e.target;\n          var m;\n          if (isString(f)) {\n            m = matchesSelector$1(t, f, _this2.el);\n          } else if (typeof f === \"function\") {\n            m = f(e, _this2.el);\n          }\n          return m;\n        }, _exclude !== false];\n      }\n    }\n  }, {\n    key: \"removeFilter\",\n    value: function removeFilter(f) {\n      var key = typeof f === \"function\" ? f._katavorioId : f;\n      delete this._filters[key];\n    }\n  }, {\n    key: \"clearAllFilters\",\n    value: function clearAllFilters() {\n      this._filters = {};\n    }\n  }, {\n    key: \"addSelector\",\n    value: function addSelector(params, atStart) {\n      if (params.selector) {\n        if (atStart) {\n          this._availableSelectors.unshift(params);\n        } else {\n          this._availableSelectors.push(params);\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.k.eventManager.off(this.el, EVENT_MOUSEDOWN, this.downListener);\n      this.k.eventManager.off(document, EVENT_MOUSEMOVE, this.moveListener);\n      this.k.eventManager.off(document, EVENT_MOUSEUP, this.upListener);\n      this.downListener = null;\n      this.upListener = null;\n      this.moveListener = null;\n      if (this.scrollTracker != null) {\n        document.removeEventListener(\"scroll\", this.scrollTracker);\n      }\n    }\n  }]);\n  return Drag;\n}(Base);\nvar DEFAULT_INPUTS = [\"input\", \"textarea\", \"select\", \"button\", \"option\"];\nvar DEFAULT_INPUT_FILTER_SELECTOR = DEFAULT_INPUTS.join(\",\");\nvar Collicat = function () {\n  function Collicat(options) {\n    _classCallCheck(this, Collicat);\n    _defineProperty(this, \"eventManager\", void 0);\n    _defineProperty(this, \"zoom\", 1);\n    _defineProperty(this, \"css\", {});\n    _defineProperty(this, \"inputFilterSelector\", void 0);\n    options = options || {};\n    this.inputFilterSelector = options.inputFilterSelector || DEFAULT_INPUT_FILTER_SELECTOR;\n    this.eventManager = new EventManager();\n    this.zoom = options.zoom || 1;\n    var _c = options.css || {};\n    extend(this.css, _c);\n  }\n  _createClass(Collicat, [{\n    key: \"getZoom\",\n    value: function getZoom() {\n      return this.zoom;\n    }\n  }, {\n    key: \"setZoom\",\n    value: function setZoom(z) {\n      this.zoom = z;\n    }\n  }, {\n    key: \"_prepareParams\",\n    value: function _prepareParams(p) {\n      p = p || {};\n      var _p = {\n        events: {}\n      },\n          i;\n      for (i in p) {\n        _p[i] = p[i];\n      }\n      for (i = 0; i < _events.length; i++) {\n        _p.events[_events[i]] = p[_events[i]] || _devNull;\n      }\n      return _p;\n    }\n  }, {\n    key: \"getInputFilterSelector\",\n    value: function getInputFilterSelector() {\n      return this.inputFilterSelector;\n    }\n  }, {\n    key: \"setInputFilterSelector\",\n    value: function setInputFilterSelector(selector) {\n      this.inputFilterSelector = selector;\n      return this;\n    }\n  }, {\n    key: \"draggable\",\n    value: function draggable(el, params) {\n      if (el._katavorioDrag == null) {\n        var _p3 = this._prepareParams(params);\n        var d = new Drag(el, _p3, this);\n        addClass(el, _classes.delegatedDraggable);\n        el._katavorioDrag = d;\n        return d;\n      } else {\n        return el._katavorioDrag;\n      }\n    }\n  }, {\n    key: \"destroyDraggable\",\n    value: function destroyDraggable(el) {\n      if (el._katavorioDrag) {\n        el._katavorioDrag.destroy();\n        delete el._katavorioDrag;\n      }\n    }\n  }]);\n  return Collicat;\n}();\n\nvar CLASS_DRAG_SELECTED = \"jtk-drag-selected\";\nvar DragSelection = function () {\n  function DragSelection(instance) {\n    _classCallCheck(this, DragSelection);\n    this.instance = instance;\n    _defineProperty(this, \"_dragSelection\", []);\n    _defineProperty(this, \"_dragSizes\", new Map());\n    _defineProperty(this, \"_dragElements\", new Map());\n    _defineProperty(this, \"_dragElementStartPositions\", new Map());\n    _defineProperty(this, \"_dragElementPositions\", new Map());\n    _defineProperty(this, \"__activeSet\", void 0);\n  }\n  _createClass(DragSelection, [{\n    key: \"_activeSet\",\n    get: function get() {\n      if (this.__activeSet == null) {\n        return this._dragSelection;\n      } else {\n        return this.__activeSet;\n      }\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this._dragSelection.length;\n    }\n  }, {\n    key: \"filterActiveSet\",\n    value: function filterActiveSet(fn) {\n      var _this = this;\n      this.__activeSet = [];\n      forEach(this._dragSelection, function (p) {\n        if (fn(p)) {\n          _this.__activeSet.push(p);\n        }\n      });\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this2 = this;\n      this.reset();\n      forEach(this._dragSelection, function (p) {\n        return _this2.instance.removeClass(p.jel, CLASS_DRAG_SELECTED);\n      });\n      this._dragSelection.length = 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._dragElementStartPositions.clear();\n      this._dragElementPositions.clear();\n      this._dragSizes.clear();\n      this._dragElements.clear();\n      this.__activeSet = null;\n    }\n  }, {\n    key: \"initialisePositions\",\n    value: function initialisePositions() {\n      var _this3 = this;\n      forEach(this._activeSet, function (p) {\n        var off = {\n          x: parseInt(\"\" + p.jel.offsetLeft, 10),\n          y: parseInt(\"\" + p.jel.offsetTop, 10)\n        };\n        _this3._dragElementStartPositions.set(p.id, off);\n        _this3._dragElementPositions.set(p.id, off);\n        _this3._dragSizes.set(p.id, _this3.instance.getSize(p.jel));\n      });\n    }\n  }, {\n    key: \"updatePositions\",\n    value: function updatePositions(currentPosition, originalPosition, callback) {\n      var _this4 = this;\n      var dx = currentPosition.x - originalPosition.x,\n          dy = currentPosition.y - originalPosition.y;\n      forEach(this._activeSet, function (p) {\n        var op = _this4._dragElementStartPositions.get(p.id);\n        if (op) {\n          var x = op.x + dx,\n              y = op.y + dy;\n          var _s = _this4._dragSizes.get(p.id);\n          var _b = {\n            x: x,\n            y: y,\n            w: _s.w,\n            h: _s.h\n          };\n          if (p.jel._jsPlumbParentGroup && p.jel._jsPlumbParentGroup.constrain) {\n            var constrainRect = {\n              w: p.jel.parentNode.offsetWidth + p.jel.parentNode.scrollLeft,\n              h: p.jel.parentNode.offsetHeight + p.jel.parentNode.scrollTop\n            };\n            _b.x = Math.max(_b.x, 0);\n            _b.y = Math.max(_b.y, 0);\n            _b.x = Math.min(_b.x, constrainRect.w - _s.w);\n            _b.y = Math.min(_b.y, constrainRect.h - _s.h);\n          }\n          _this4._dragElementPositions.set(p.id, {\n            x: x,\n            y: y\n          });\n          p.jel.style.left = _b.x + \"px\";\n          p.jel.style.top = _b.y + \"px\";\n          callback(p.jel, p.id, _s, _b);\n        }\n      });\n    }\n  }, {\n    key: \"each\",\n    value: function each(f) {\n      var _this5 = this;\n      forEach(this._activeSet, function (p) {\n        var s = _this5._dragSizes.get(p.id);\n        var o = _this5._dragElementPositions.get(p.id);\n        var orig = _this5._dragElementStartPositions.get(p.id);\n        f(p.jel, p.id, o, s, orig);\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(el, id) {\n      var jel = el;\n      id = id || this.instance.getId(jel);\n      var idx = findWithFunction(this._dragSelection, function (p) {\n        return p.id === id;\n      });\n      if (idx === -1) {\n        this.instance.addClass(el, CLASS_DRAG_SELECTED);\n        this._dragSelection.push({\n          id: id,\n          jel: jel\n        });\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(el) {\n      var _this6 = this;\n      var jel = el;\n      this._dragSelection = this._dragSelection.filter(function (p) {\n        var out = p.jel !== jel;\n        if (!out) {\n          _this6.instance.removeClass(p.jel, CLASS_DRAG_SELECTED);\n        }\n        return out;\n      });\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(el) {\n      var jel = el;\n      var idx = findWithFunction(this._dragSelection, function (p) {\n        return p.jel === jel;\n      });\n      if (idx !== -1) {\n        this.remove(jel);\n      } else {\n        this.add(el);\n      }\n    }\n  }]);\n  return DragSelection;\n}();\n\nvar CLASS_DELEGATED_DRAGGABLE = \"jtk-delegated-draggable\";\nvar CLASS_DRAGGABLE = \"jtk-draggable\";\nvar CLASS_DRAG_CONTAINER = \"jtk-drag\";\nvar CLASS_GHOST_PROXY = \"jtk-ghost-proxy\";\nvar CLASS_DRAG_ACTIVE = \"jtk-drag-active\";\nvar CLASS_DRAGGED = \"jtk-dragged\";\nvar CLASS_DRAG_HOVER = \"jtk-drag-hover\";\nvar DragManager = function () {\n  function DragManager(instance, dragSelection, options) {\n    var _this = this;\n    _classCallCheck(this, DragManager);\n    this.instance = instance;\n    this.dragSelection = dragSelection;\n    _defineProperty(this, \"collicat\", void 0);\n    _defineProperty(this, \"drag\", void 0);\n    _defineProperty(this, \"_draggables\", {});\n    _defineProperty(this, \"_dlist\", []);\n    _defineProperty(this, \"_elementsWithEndpoints\", {});\n    _defineProperty(this, \"_draggablesForElements\", {});\n    _defineProperty(this, \"handlers\", []);\n    _defineProperty(this, \"_trackScroll\", void 0);\n    _defineProperty(this, \"_filtersToAdd\", []);\n    this.collicat = new Collicat({\n      zoom: this.instance.currentZoom,\n      css: {\n        noSelect: this.instance.dragSelectClass,\n        delegatedDraggable: CLASS_DELEGATED_DRAGGABLE,\n        draggable: CLASS_DRAGGABLE,\n        drag: CLASS_DRAG_CONTAINER,\n        selected: CLASS_DRAG_SELECTED,\n        active: CLASS_DRAG_ACTIVE,\n        hover: CLASS_DRAG_HOVER,\n        ghostProxy: CLASS_GHOST_PROXY\n      }\n    });\n    this.instance.bind(EVENT_ZOOM, function (z) {\n      _this.collicat.setZoom(z);\n    });\n    options = options || {};\n    this._trackScroll = options.trackScroll !== false;\n  }\n  _createClass(DragManager, [{\n    key: \"addHandler\",\n    value: function addHandler(handler, dragOptions) {\n      var _this2 = this;\n      var o = extend({\n        selector: handler.selector\n      }, dragOptions || {});\n      o.start = wrap(o.start, function (p) {\n        return handler.onStart(p);\n      }, false);\n      o.drag = wrap(o.drag, function (p) {\n        return handler.onDrag(p);\n      });\n      o.stop = wrap(o.stop, function (p) {\n        return handler.onStop(p);\n      });\n      var handlerBeforeStart = (handler.onBeforeStart || function (p) {}).bind(handler);\n      o.beforeStart = wrap(o.beforeStart, function (p) {\n        return handlerBeforeStart(p);\n      });\n      o.dragInit = function (el) {\n        return handler.onDragInit(el);\n      };\n      o.dragAbort = function (el) {\n        return handler.onDragAbort(el);\n      };\n      if (handler.useGhostProxy) {\n        o.useGhostProxy = handler.useGhostProxy;\n        o.makeGhostProxy = handler.makeGhostProxy;\n      }\n      if (o.constrainFunction == null && o.containment != null) {\n        switch (o.containment) {\n          case ContainmentType.notNegative:\n            {\n              o.constrainFunction = function (pos, dragEl, _constrainRect, _size) {\n                return {\n                  x: Math.max(0, Math.min(pos.x)),\n                  y: Math.max(0, Math.min(pos.y))\n                };\n              };\n              break;\n            }\n          case ContainmentType.parent:\n            {\n              var padding = o.containmentPadding || 5;\n              o.constrainFunction = function (pos, dragEl, _constrainRect, _size) {\n                var x = pos.x < 0 ? 0 : pos.x > _constrainRect.w - padding ? _constrainRect.w - padding : pos.x;\n                var y = pos.y < 0 ? 0 : pos.y > _constrainRect.h - padding ? _constrainRect.h - padding : pos.y;\n                return {\n                  x: x,\n                  y: y\n                };\n              };\n              break;\n            }\n          case ContainmentType.parentEnclosed:\n            {\n              o.constrainFunction = function (pos, dragEl, _constrainRect, _size) {\n                var x = pos.x < 0 ? 0 : pos.x + _size.w > _constrainRect.w ? _constrainRect.w - _size.w : pos.x;\n                var y = pos.y < 0 ? 0 : pos.y + _size.h > _constrainRect.h ? _constrainRect.h - _size.h : pos.y;\n                return {\n                  x: x,\n                  y: y\n                };\n              };\n              break;\n            }\n        }\n      }\n      if (this.drag == null) {\n        o.trackScroll = this._trackScroll;\n        this.drag = this.collicat.draggable(this.instance.getContainer(), o);\n        forEach(this._filtersToAdd, function (filterToAdd) {\n          return _this2.drag.addFilter(filterToAdd[0], filterToAdd[1]);\n        });\n        this.drag.on(EVENT_REVERT, function (el) {\n          _this2.instance.revalidate(el);\n        });\n      } else {\n        this.drag.addSelector(o);\n      }\n      this.handlers.push({\n        handler: handler,\n        options: o\n      });\n      handler.init(this.drag);\n    }\n  }, {\n    key: \"addSelector\",\n    value: function addSelector(params, atStart) {\n      this.drag && this.drag.addSelector(params, atStart);\n    }\n  }, {\n    key: \"addFilter\",\n    value: function addFilter(filter, exclude) {\n      if (this.drag == null) {\n        this._filtersToAdd.push([filter, exclude === true]);\n      } else {\n        this.drag.addFilter(filter, exclude);\n      }\n    }\n  }, {\n    key: \"removeFilter\",\n    value: function removeFilter(filter) {\n      if (this.drag != null) {\n        this.drag.removeFilter(filter);\n      }\n    }\n  }, {\n    key: \"setFilters\",\n    value: function setFilters(filters) {\n      var _this3 = this;\n      forEach(filters, function (f) {\n        _this3.drag.addFilter(f[0], f[1]);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var out = [];\n      forEach(this.handlers, function (p) {\n        p.handler.reset();\n      });\n      this.handlers.length = 0;\n      if (this.drag != null) {\n        var currentFilters = this.drag._filters;\n        for (var f in currentFilters) {\n          out.push([f, currentFilters[f][1]]);\n        }\n        this.collicat.destroyDraggable(this.instance.getContainer());\n      }\n      delete this.drag;\n      return out;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption(handler, options) {\n      var handlerAndOptions = getWithFunction(this.handlers, function (p) {\n        return p.handler === handler;\n      });\n      if (handlerAndOptions != null) {\n        extend(handlerAndOptions.options, options || {});\n      }\n    }\n  }]);\n  return DragManager;\n}();\n\nfunction decodeDragGroupSpec(instance, spec) {\n  if (isString(spec)) {\n    return {\n      id: spec,\n      active: true\n    };\n  } else {\n    return {\n      id: instance.getId(spec),\n      active: spec.active\n    };\n  }\n}\nfunction isActiveDragGroupMember(dragGroup, el) {\n  var details = getFromSetWithFunction(dragGroup.members, function (m) {\n    return m.el === el;\n  });\n  if (details !== null) {\n    return details.active === true;\n  } else {\n    return false;\n  }\n}\nfunction getAncestors(el) {\n  var ancestors = [];\n  var p = el._jsPlumbParentGroup;\n  while (p != null) {\n    ancestors.push(p.el);\n    p = p.group;\n  }\n  return ancestors;\n}\nvar ElementDragHandler = function () {\n  function ElementDragHandler(instance, _dragSelection) {\n    _classCallCheck(this, ElementDragHandler);\n    this.instance = instance;\n    this._dragSelection = _dragSelection;\n    _defineProperty(this, \"selector\", \"> \" + SELECTOR_MANAGED_ELEMENT + \":not(\" + cls(CLASS_OVERLAY) + \")\");\n    _defineProperty(this, \"_dragOffset\", null);\n    _defineProperty(this, \"_groupLocations\", []);\n    _defineProperty(this, \"_intersectingGroups\", []);\n    _defineProperty(this, \"_currentDragParentGroup\", null);\n    _defineProperty(this, \"_dragGroupByElementIdMap\", {});\n    _defineProperty(this, \"_dragGroupMap\", {});\n    _defineProperty(this, \"_currentDragGroup\", null);\n    _defineProperty(this, \"_currentDragGroupOffsets\", new Map());\n    _defineProperty(this, \"_currentDragGroupSizes\", new Map());\n    _defineProperty(this, \"_dragPayload\", null);\n    _defineProperty(this, \"drag\", void 0);\n    _defineProperty(this, \"originalPosition\", void 0);\n  }\n  _createClass(ElementDragHandler, [{\n    key: \"onDragInit\",\n    value: function onDragInit(el) {\n      return null;\n    }\n  }, {\n    key: \"onDragAbort\",\n    value: function onDragAbort(el) {\n      return null;\n    }\n  }, {\n    key: \"getDropGroup\",\n    value: function getDropGroup() {\n      var dropGroup = null;\n      if (this._intersectingGroups.length > 0) {\n        var targetGroup = this._intersectingGroups[0].groupLoc.group;\n        var intersectingElement = this._intersectingGroups[0].intersectingElement;\n        var currentGroup = intersectingElement._jsPlumbParentGroup;\n        if (currentGroup !== targetGroup) {\n          if (currentGroup == null || !currentGroup.overrideDrop(intersectingElement, targetGroup)) {\n            dropGroup = this._intersectingGroups[0];\n          }\n        }\n      }\n      return dropGroup;\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop(params) {\n      var _this = this;\n      var jel = params.drag.getDragElement();\n      var dropGroup = this.getDropGroup();\n      var elementsToProcess = [];\n      elementsToProcess.push({\n        el: jel,\n        id: this.instance.getId(jel),\n        pos: params.finalPos,\n        originalGroup: jel._jsPlumbParentGroup,\n        redrawResult: null,\n        originalPos: params.originalPos,\n        reverted: false,\n        dropGroup: dropGroup != null ? dropGroup.groupLoc.group : null\n      });\n      this._dragSelection.each(function (el, id, o, s, orig) {\n        if (el !== params.el) {\n          var pp = {\n            x: o.x,\n            y: o.y\n          };\n          var x = pp.x,\n              y = pp.y;\n          if (el._jsPlumbParentGroup && el._jsPlumbParentGroup.constrain) {\n            var constrainRect = {\n              w: el.parentNode.offsetWidth + el.parentNode.scrollLeft,\n              h: el.parentNode.offsetHeight + el.parentNode.scrollTop\n            };\n            x = Math.max(x, 0);\n            y = Math.max(y, 0);\n            x = Math.min(x, constrainRect.w - s.w);\n            y = Math.min(y, constrainRect.h - s.h);\n            pp.x = x;\n            pp.y = y;\n          }\n          elementsToProcess.push({\n            el: el,\n            id: id,\n            pos: pp,\n            originalPos: orig,\n            originalGroup: el._jsPlumbParentGroup,\n            redrawResult: null,\n            reverted: false,\n            dropGroup: dropGroup != null ? dropGroup.groupLoc.group : null\n          });\n        }\n      });\n      forEach(elementsToProcess, function (p) {\n        var wasInGroup = p.originalGroup != null,\n            isInOriginalGroup = wasInGroup && isInsideParent(_this.instance, p.el, p.pos),\n            parentOffset = {\n          x: 0,\n          y: 0\n        };\n        if (wasInGroup && !isInOriginalGroup) {\n          if (dropGroup == null) {\n            var orphanedPosition = _this._pruneOrOrphan(p, true, true);\n            if (orphanedPosition.pos != null) {\n              p.pos = orphanedPosition.pos.pos;\n            } else {\n              if (!orphanedPosition.pruned && p.originalGroup.revert) {\n                p.pos = p.originalPos;\n                p.reverted = true;\n              }\n            }\n          }\n        } else if (wasInGroup && isInOriginalGroup) {\n          parentOffset = _this.instance.viewport.getPosition(p.originalGroup.elId);\n        }\n        if (dropGroup != null && !isInOriginalGroup) {\n          _this.instance.groupManager.addToGroup(dropGroup.groupLoc.group, false, p.el);\n        } else {\n          p.dropGroup = null;\n        }\n        if (p.reverted) {\n          _this.instance.setPosition(p.el, p.pos);\n        }\n        p.redrawResult = _this.instance.setElementPosition(p.el, p.pos.x + parentOffset.x, p.pos.y + parentOffset.y);\n        _this.instance.removeClass(p.el, CLASS_DRAGGED);\n        _this.instance.select({\n          source: p.el\n        }).removeClass(_this.instance.elementDraggingClass + \" \" + _this.instance.sourceElementDraggingClass, true);\n        _this.instance.select({\n          target: p.el\n        }).removeClass(_this.instance.elementDraggingClass + \" \" + _this.instance.targetElementDraggingClass, true);\n      });\n      if (elementsToProcess[0].originalGroup != null) {\n        var currentGroup = jel._jsPlumbParentGroup;\n        if (currentGroup !== elementsToProcess[0].originalGroup) {\n          var originalElement = params.drag.getDragElement(true);\n          if (elementsToProcess[0].originalGroup.ghost) {\n            var o1 = this.instance.getOffset(this.instance.getGroupContentArea(currentGroup));\n            var o2 = this.instance.getOffset(this.instance.getGroupContentArea(elementsToProcess[0].originalGroup));\n            var o = {\n              x: o2.x + params.pos.x - o1.x,\n              y: o2.y + params.pos.y - o1.y\n            };\n            originalElement.style.left = o.x + \"px\";\n            originalElement.style.top = o.y + \"px\";\n            this.instance.revalidate(originalElement);\n          }\n        }\n      }\n      this.instance.fire(EVENT_DRAG_STOP, {\n        elements: elementsToProcess,\n        e: params.e,\n        el: jel,\n        payload: this._dragPayload\n      });\n      this._cleanup();\n    }\n  }, {\n    key: \"_cleanup\",\n    value: function _cleanup() {\n      var _this2 = this;\n      forEach(this._groupLocations, function (groupLoc) {\n        _this2.instance.removeClass(groupLoc.el, CLASS_DRAG_ACTIVE);\n        _this2.instance.removeClass(groupLoc.el, CLASS_DRAG_HOVER);\n      });\n      this._currentDragParentGroup = null;\n      this._groupLocations.length = 0;\n      this.instance.hoverSuspended = false;\n      this._dragOffset = null;\n      this._dragSelection.reset();\n      this._dragPayload = null;\n      this._currentDragGroupOffsets.clear();\n      this._currentDragGroupSizes.clear();\n      this._currentDragGroup = null;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {}\n  }, {\n    key: \"init\",\n    value: function init(drag) {\n      this.drag = drag;\n    }\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(params) {\n      var _this3 = this;\n      var el = params.drag.getDragElement();\n      var finalPos = params.pos;\n      var elSize = this.instance.getSize(el);\n      var ui = {\n        x: finalPos.x,\n        y: finalPos.y\n      };\n      this._intersectingGroups.length = 0;\n      if (this._dragOffset != null) {\n        ui.x += this._dragOffset.x;\n        ui.y += this._dragOffset.y;\n      }\n      var _one = function _one(el, bounds, findIntersectingGroups) {\n        if (findIntersectingGroups) {\n          var ancestorsOfIntersectingGroups = new Set();\n          forEach(_this3._groupLocations, function (groupLoc) {\n            if (!ancestorsOfIntersectingGroups.has(groupLoc.group.id) && intersects(bounds, groupLoc.r)) {\n              if (groupLoc.group !== _this3._currentDragParentGroup) {\n                _this3.instance.addClass(groupLoc.el, CLASS_DRAG_HOVER);\n              }\n              _this3._intersectingGroups.push({\n                groupLoc: groupLoc,\n                intersectingElement: params.drag.getDragElement(true),\n                d: 0\n              });\n              forEach(_this3.instance.groupManager.getAncestors(groupLoc.group), function (g) {\n                return ancestorsOfIntersectingGroups.add(g.id);\n              });\n            } else {\n              _this3.instance.removeClass(groupLoc.el, CLASS_DRAG_HOVER);\n            }\n          });\n        }\n        _this3.instance.setElementPosition(el, bounds.x, bounds.y);\n        _this3.instance.fire(EVENT_DRAG_MOVE, {\n          el: el,\n          e: params.e,\n          pos: {\n            x: bounds.x,\n            y: bounds.y\n          },\n          originalPosition: _this3.originalPosition,\n          payload: _this3._dragPayload\n        });\n      };\n      var elBounds = {\n        x: ui.x,\n        y: ui.y,\n        w: elSize.w,\n        h: elSize.h\n      };\n      _one(el, elBounds, true);\n      this._dragSelection.updatePositions(finalPos, this.originalPosition, function (el, id, s, b) {\n        _one(el, b, false);\n      });\n      this._currentDragGroupOffsets.forEach(function (v, k) {\n        var s = _this3._currentDragGroupSizes.get(k);\n        var _b = {\n          x: elBounds.x + v[0].x,\n          y: elBounds.y + v[0].y,\n          w: s.w,\n          h: s.h\n        };\n        v[1].style.left = _b.x + \"px\";\n        v[1].style.top = _b.y + \"px\";\n        _one(v[1], _b, false);\n      });\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(params) {\n      var _this4 = this;\n      var el = params.drag.getDragElement();\n      var elOffset = this.instance.getOffset(el);\n      this.originalPosition = {\n        x: params.pos.x,\n        y: params.pos.y\n      };\n      if (el._jsPlumbParentGroup) {\n        this._dragOffset = this.instance.getOffset(el.offsetParent);\n        this._currentDragParentGroup = el._jsPlumbParentGroup;\n      }\n      var cont = true;\n      var nd = el.getAttribute(ATTRIBUTE_NOT_DRAGGABLE);\n      if (this.instance.elementsDraggable === false || nd != null && nd !== FALSE$1) {\n        cont = false;\n      }\n      if (cont) {\n        this._groupLocations.length = 0;\n        this._intersectingGroups.length = 0;\n        this.instance.hoverSuspended = true;\n        var originalElement = params.drag.getDragElement(true),\n            descendants = originalElement.querySelectorAll(SELECTOR_MANAGED_ELEMENT),\n            ancestors = getAncestors(originalElement),\n            a = [];\n        Array.prototype.push.apply(a, descendants);\n        Array.prototype.push.apply(a, ancestors);\n        this._dragSelection.filterActiveSet(function (p) {\n          return a.indexOf(p.jel) === -1;\n        });\n        this._dragSelection.initialisePositions();\n        var _one = function _one(_el) {\n          if (!_el._isJsPlumbGroup || _this4.instance.allowNestedGroups) {\n            var isNotInAGroup = !_el._jsPlumbParentGroup;\n            var membersAreDroppable = isNotInAGroup || _el._jsPlumbParentGroup.dropOverride !== true;\n            var isGhostOrNotConstrained = !isNotInAGroup && (_el._jsPlumbParentGroup.ghost || _el._jsPlumbParentGroup.constrain !== true);\n            if (isNotInAGroup || membersAreDroppable && isGhostOrNotConstrained) {\n              forEach(_this4.instance.groupManager.getGroups(), function (group) {\n                var elementGroup = _el._jsPlumbGroup;\n                if (group.droppable !== false && group.enabled !== false && _el._jsPlumbGroup !== group && !_this4.instance.groupManager.isDescendant(group, elementGroup)) {\n                  var groupEl = group.el,\n                      s = _this4.instance.getSize(groupEl),\n                      o = _this4.instance.getOffset(groupEl),\n                      boundingRect = {\n                    x: o.x,\n                    y: o.y,\n                    w: s.w,\n                    h: s.h\n                  };\n                  var groupLocation = {\n                    el: groupEl,\n                    r: boundingRect,\n                    group: group\n                  };\n                  _this4._groupLocations.push(groupLocation);\n                  if (group !== _this4._currentDragParentGroup) {\n                    _this4.instance.addClass(groupEl, CLASS_DRAG_ACTIVE);\n                  }\n                }\n              });\n              _this4._groupLocations.sort(function (a, b) {\n                if (_this4.instance.groupManager.isDescendant(a.group, b.group)) {\n                  return -1;\n                } else if (_this4.instance.groupManager.isAncestor(b.group, a.group)) {\n                  return 1;\n                } else {\n                  return 0;\n                }\n              });\n            }\n          }\n          _this4.instance.select({\n            source: _el\n          }).addClass(_this4.instance.elementDraggingClass + \" \" + _this4.instance.sourceElementDraggingClass, true);\n          _this4.instance.select({\n            target: _el\n          }).addClass(_this4.instance.elementDraggingClass + \" \" + _this4.instance.targetElementDraggingClass, true);\n          return _this4.instance.fire(EVENT_DRAG_START, {\n            el: _el,\n            e: params.e,\n            originalPosition: _this4.originalPosition,\n            pos: _this4.originalPosition\n          });\n        };\n        var elId = this.instance.getId(el);\n        this._currentDragGroup = this._dragGroupByElementIdMap[elId];\n        if (this._currentDragGroup && !isActiveDragGroupMember(this._currentDragGroup, el)) {\n          this._currentDragGroup = null;\n        }\n        var dragStartReturn = _one(el);\n        if (dragStartReturn === false) {\n          this._cleanup();\n          return false;\n        } else {\n          this._dragPayload = dragStartReturn;\n        }\n        if (this._currentDragGroup != null) {\n          this._currentDragGroupOffsets.clear();\n          this._currentDragGroupSizes.clear();\n          this._currentDragGroup.members.forEach(function (jel) {\n            var off = _this4.instance.getOffset(jel.el);\n            _this4._currentDragGroupOffsets.set(jel.elId, [{\n              x: off.x - elOffset.x,\n              y: off.y - elOffset.y\n            }, jel.el]);\n            _this4._currentDragGroupSizes.set(jel.elId, _this4.instance.getSize(jel.el));\n            _one(jel.el);\n          });\n        }\n      }\n      return cont;\n    }\n  }, {\n    key: \"addToDragGroup\",\n    value: function addToDragGroup(spec) {\n      var _this5 = this;\n      var details = decodeDragGroupSpec(this.instance, spec);\n      var dragGroup = this._dragGroupMap[details.id];\n      if (dragGroup == null) {\n        dragGroup = {\n          id: details.id,\n          members: new Set()\n        };\n        this._dragGroupMap[details.id] = dragGroup;\n      }\n      for (var _len = arguments.length, els = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        els[_key - 1] = arguments[_key];\n      }\n      this.removeFromDragGroup.apply(this, els);\n      forEach(els, function (el) {\n        var elId = _this5.instance.getId(el);\n        dragGroup.members.add({\n          elId: elId,\n          el: el,\n          active: details.active\n        });\n        _this5._dragGroupByElementIdMap[elId] = dragGroup;\n      });\n    }\n  }, {\n    key: \"removeFromDragGroup\",\n    value: function removeFromDragGroup() {\n      var _this6 = this;\n      for (var _len2 = arguments.length, els = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        els[_key2] = arguments[_key2];\n      }\n      forEach(els, function (el) {\n        var id = _this6.instance.getId(el);\n        var dragGroup = _this6._dragGroupByElementIdMap[id];\n        if (dragGroup != null) {\n          var s = new Set();\n          dragGroup.members.forEach(function (member) {\n            if (member.el !== el) {\n              s.add(member);\n            }\n          });\n          dragGroup.members = s;\n          delete _this6._dragGroupByElementIdMap[id];\n        }\n      });\n    }\n  }, {\n    key: \"setDragGroupState\",\n    value: function setDragGroupState(state) {\n      var _this7 = this;\n      for (var _len3 = arguments.length, els = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        els[_key3 - 1] = arguments[_key3];\n      }\n      var elementIds = els.map(function (el) {\n        return _this7.instance.getId(el);\n      });\n      forEach(elementIds, function (id) {\n        var dragGroup = _this7._dragGroupByElementIdMap[id];\n        if (dragGroup != null) {\n          var member = getFromSetWithFunction(dragGroup.members, function (m) {\n            return m.elId === id;\n          });\n          if (member != null) {\n            member.active = state;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_pruneOrOrphan\",\n    value: function _pruneOrOrphan(params, doNotTransferToAncestor, isDefinitelyNotInsideParent) {\n      var jel = params.el;\n      var orphanedPosition = {\n        pruned: false,\n        pos: null\n      };\n      if (isDefinitelyNotInsideParent || !isInsideParent(this.instance, jel, params.pos)) {\n        var group = jel._jsPlumbParentGroup;\n        if (group.prune) {\n          if (jel._isJsPlumbGroup) {\n            this.instance.removeGroup(jel._jsPlumbGroup);\n          } else {\n            group.remove(params.el, true);\n          }\n          orphanedPosition.pruned = true;\n        } else if (group.orphan) {\n          orphanedPosition.pos = this.instance.groupManager.orphan(params.el, doNotTransferToAncestor);\n          if (jel._isJsPlumbGroup) {\n            group.removeGroup(jel._jsPlumbGroup);\n          } else {\n            group.remove(params.el);\n          }\n        }\n      }\n      return orphanedPosition;\n    }\n  }]);\n  return ElementDragHandler;\n}();\n\nfunction _makeFloatingEndpoint(ep, endpoint, referenceCanvas, sourceElement, instance) {\n  var floatingAnchor = createFloatingAnchor(instance, sourceElement);\n  var p = {\n    paintStyle: ep.getPaintStyle(),\n    preparedAnchor: floatingAnchor,\n    element: sourceElement,\n    scope: ep.scope\n  };\n  if (endpoint != null) {\n    if (isAssignableFrom(endpoint, EndpointRepresentation)) {\n      p.existingEndpoint = endpoint;\n    } else {\n      p.endpoint = endpoint;\n    }\n  }\n  var actualEndpoint = instance._internal_newEndpoint(p);\n  instance._paintEndpoint(actualEndpoint, {});\n  return actualEndpoint;\n}\nfunction selectorFilter(evt, _el, selector, _instance, negate) {\n  var t = evt.target || evt.srcElement,\n      ok = false,\n      sel = _instance.getSelector(_el, selector);\n  for (var j = 0; j < sel.length; j++) {\n    if (sel[j] === t) {\n      ok = true;\n      break;\n    }\n  }\n  return negate ? !ok : ok;\n}\nvar SELECTOR_DRAG_ACTIVE_OR_HOVER = cls(CLASS_DRAG_ACTIVE, CLASS_DRAG_HOVER);\nvar SOURCE_SELECTOR_UNIQUE_ENDPOINT_DATA = \"sourceSelectorEndpoint\";\nvar EndpointDragHandler = function () {\n  function EndpointDragHandler(instance) {\n    _classCallCheck(this, EndpointDragHandler);\n    this.instance = instance;\n    _defineProperty(this, \"jpc\", void 0);\n    _defineProperty(this, \"existingJpc\", void 0);\n    _defineProperty(this, \"_originalAnchorSpec\", void 0);\n    _defineProperty(this, \"ep\", void 0);\n    _defineProperty(this, \"endpointRepresentation\", void 0);\n    _defineProperty(this, \"canvasElement\", void 0);\n    _defineProperty(this, \"_activeDefinition\", void 0);\n    _defineProperty(this, \"placeholderInfo\", {\n      id: null,\n      element: null\n    });\n    _defineProperty(this, \"floatingIndex\", void 0);\n    _defineProperty(this, \"floatingId\", void 0);\n    _defineProperty(this, \"floatingElement\", void 0);\n    _defineProperty(this, \"floatingEndpoint\", void 0);\n    _defineProperty(this, \"floatingAnchor\", void 0);\n    _defineProperty(this, \"_stopped\", void 0);\n    _defineProperty(this, \"inPlaceCopy\", void 0);\n    _defineProperty(this, \"endpointDropTargets\", []);\n    _defineProperty(this, \"currentDropTarget\", null);\n    _defineProperty(this, \"payload\", void 0);\n    _defineProperty(this, \"floatingConnections\", {});\n    _defineProperty(this, \"_forceReattach\", void 0);\n    _defineProperty(this, \"_forceDetach\", void 0);\n    _defineProperty(this, \"mousedownHandler\", void 0);\n    _defineProperty(this, \"mouseupHandler\", void 0);\n    _defineProperty(this, \"selector\", cls(CLASS_ENDPOINT));\n    var container = instance.getContainer();\n    this.mousedownHandler = this._mousedownHandler.bind(this);\n    this.mouseupHandler = this._mouseupHandler.bind(this);\n    instance.on(container, EVENT_MOUSEDOWN, SELECTOR_MANAGED_ELEMENT, this.mousedownHandler);\n    instance.on(container, EVENT_MOUSEUP, [SELECTOR_MANAGED_ELEMENT, cls(CLASS_ENDPOINT)].join(\",\"), this.mouseupHandler);\n  }\n  _createClass(EndpointDragHandler, [{\n    key: \"_resolveDragParent\",\n    value: function _resolveDragParent(def, eventTarget) {\n      var container = this.instance.getContainer();\n      var parent = findParent(eventTarget, SELECTOR_MANAGED_ELEMENT, container, true);\n      if (def.parentSelector != null) {\n        var child = findParent(eventTarget, def.parentSelector, container, true);\n        if (child != null) {\n          parent = findParent(child.parentNode, SELECTOR_MANAGED_ELEMENT, container, false);\n        }\n        return child || parent;\n      } else {\n        return parent;\n      }\n    }\n  }, {\n    key: \"_mousedownHandler\",\n    value: function _mousedownHandler(e) {\n      var sourceEl;\n      var sourceSelector;\n      if (e.which === 3 || e.button === 2) {\n        return;\n      }\n      var eventTarget = e.target || e.srcElement;\n      sourceSelector = this._getSourceDefinition(e);\n      if (sourceSelector != null) {\n        sourceEl = this._resolveDragParent(sourceSelector.def.def, eventTarget);\n        if (sourceEl == null || sourceEl.getAttribute(ATTRIBUTE_JTK_ENABLED) === FALSE$1) {\n          return;\n        }\n      }\n      if (sourceSelector) {\n        var sourceElement = e.currentTarget,\n            def;\n        if (eventTarget.getAttribute(ATTRIBUTE_JTK_ENABLED) !== FALSE$1) {\n          consume(e);\n          this._activeDefinition = sourceSelector;\n          def = sourceSelector.def.def;\n          if (def.canAcceptNewConnection != null && !def.canAcceptNewConnection(sourceEl, e)) {\n            return false;\n          }\n          var elxy = getPositionOnElement(e, sourceEl, this.instance.currentZoom);\n          var tempEndpointParams = {\n            element: sourceEl\n          };\n          extend(tempEndpointParams, def);\n          tempEndpointParams.isTemporarySource = true;\n          if (def.scope) {\n            tempEndpointParams.scope = def.scope;\n          } else {\n            var scopeFromElement = eventTarget.getAttribute(ATTRIBUTE_JTK_SCOPE);\n            if (scopeFromElement != null) {\n              tempEndpointParams.scope = scopeFromElement;\n            }\n          }\n          var extractedParameters = def.parameterExtractor ? def.parameterExtractor(sourceEl, eventTarget, e) : {};\n          tempEndpointParams = merge(tempEndpointParams, extractedParameters);\n          if (tempEndpointParams.maxConnections != null && tempEndpointParams.maxConnections >= 0) {\n            var sourceCount = this.instance.select({\n              source: sourceEl\n            }).length;\n            if (sourceCount >= tempEndpointParams.maxConnections) {\n              consume(e);\n              if (def.onMaxConnections) {\n                def.onMaxConnections({\n                  element: sourceEl,\n                  maxConnections: tempEndpointParams.maxConnections\n                }, e);\n              }\n              e.stopImmediatePropagation && e.stopImmediatePropagation();\n              return false;\n            }\n          }\n          if (def.anchorPositionFinder) {\n            var maybeAnchorSpec = def.anchorPositionFinder(sourceEl, elxy, def, e);\n            if (maybeAnchorSpec != null) {\n              tempEndpointParams.anchor = maybeAnchorSpec;\n            }\n          }\n          this._originalAnchorSpec = tempEndpointParams.anchor || (this.instance.areDefaultAnchorsSet() ? this.instance.defaults.anchors[0] : this.instance.defaults.anchor);\n          var _originalAnchor = this.instance.router.prepareAnchor(this._originalAnchorSpec);\n          var anchorSpecToUse = [elxy.x, elxy.y, 0, 0];\n          if (_originalAnchor.locations.length > 0) {\n            anchorSpecToUse[2] = _originalAnchor.locations[0].ox;\n            anchorSpecToUse[3] = _originalAnchor.locations[0].oy;\n          } else if (_originalAnchor.isContinuous) {\n            var dx = elxy.x < 0.5 ? elxy.x : 1 - elxy.x;\n            var dy = elxy.y < 0.5 ? elxy.y : 1 - elxy.y;\n            anchorSpecToUse[2] = dx < dy ? elxy.x < 0.5 ? -1 : 1 : 0;\n            anchorSpecToUse[3] = dy < dx ? elxy.y < 0.5 ? -1 : 1 : 0;\n          }\n          tempEndpointParams.anchor = anchorSpecToUse;\n          tempEndpointParams.deleteOnEmpty = true;\n          this.ep = this.instance._internal_newEndpoint(tempEndpointParams);\n          var payload = {};\n          if (def.extract) {\n            for (var att in def.extract) {\n              var v = eventTarget.getAttribute(att);\n              if (v) {\n                payload[def.extract[att]] = v;\n              }\n            }\n            this.ep.mergeParameters(payload);\n          }\n          if (tempEndpointParams.uniqueEndpoint) {\n            var elementId = this.ep.elementId;\n            var existingUniqueEndpoint = this.instance.getManagedData(elementId, SOURCE_SELECTOR_UNIQUE_ENDPOINT_DATA, sourceSelector.id);\n            if (existingUniqueEndpoint == null) {\n              this.instance.setManagedData(elementId, SOURCE_SELECTOR_UNIQUE_ENDPOINT_DATA, sourceSelector.id, this.ep);\n              this.ep.deleteOnEmpty = false;\n            } else {\n              this.ep.finalEndpoint = existingUniqueEndpoint;\n            }\n          }\n          sourceElement._jsPlumbOrphanedEndpoints = sourceElement._jsPlumbOrphanedEndpoints || [];\n          sourceElement._jsPlumbOrphanedEndpoints.push(this.ep);\n          this.instance.trigger(this.ep.endpoint.canvas, EVENT_MOUSEDOWN, e, payload);\n        }\n      }\n    }\n  }, {\n    key: \"_mouseupHandler\",\n    value: function _mouseupHandler(e) {\n      var el = e.currentTarget || e.srcElement;\n      if (el._jsPlumbOrphanedEndpoints) {\n        each(el._jsPlumbOrphanedEndpoints, this.instance._maybePruneEndpoint.bind(this.instance));\n        el._jsPlumbOrphanedEndpoints.length = 0;\n      }\n      this._activeDefinition = null;\n    }\n  }, {\n    key: \"onDragInit\",\n    value: function onDragInit(el) {\n      var ipco = this.instance.getOffset(el),\n          ips = this.instance.getSize(el);\n      this._makeDraggablePlaceholder(ipco, ips);\n      this.placeholderInfo.element.jtk = el.jtk;\n      return this.placeholderInfo.element;\n    }\n  }, {\n    key: \"onDragAbort\",\n    value: function onDragAbort(el) {\n      this._cleanupDraggablePlaceholder();\n    }\n  }, {\n    key: \"_makeDraggablePlaceholder\",\n    value: function _makeDraggablePlaceholder(ipco, ips) {\n      this.placeholderInfo = this.placeholderInfo || {};\n      var n = createElement(ELEMENT_DIV, {\n        position: \"absolute\"\n      });\n      this.instance._appendElement(n, this.instance.getContainer());\n      var id = this.instance.getId(n);\n      this.instance.setPosition(n, ipco);\n      n.style.width = ips.w + \"px\";\n      n.style.height = ips.h + \"px\";\n      this.instance.manage(n);\n      this.placeholderInfo.id = id;\n      this.placeholderInfo.element = n;\n      return n;\n    }\n  }, {\n    key: \"_cleanupDraggablePlaceholder\",\n    value: function _cleanupDraggablePlaceholder() {\n      if (this.placeholderInfo.element) {\n        this.instance.unmanage(this.placeholderInfo.element, true);\n        delete this.placeholderInfo.element;\n        delete this.placeholderInfo.id;\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var c = this.instance.getContainer();\n      this.instance.off(c, EVENT_MOUSEUP, this.mouseupHandler);\n      this.instance.off(c, EVENT_MOUSEDOWN, this.mousedownHandler);\n    }\n  }, {\n    key: \"init\",\n    value: function init(drag) {}\n  }, {\n    key: \"startNewConnectionDrag\",\n    value: function startNewConnectionDrag(scope, data) {\n      this.jpc = this.instance._newConnection({\n        sourceEndpoint: this.ep,\n        targetEndpoint: this.floatingEndpoint,\n        source: this.ep.element,\n        target: this.placeholderInfo.element,\n        paintStyle: this.ep.connectorStyle,\n        hoverPaintStyle: this.ep.connectorHoverStyle,\n        connector: this.ep.connector,\n        overlays: this.ep.connectorOverlays,\n        type: this.ep.edgeType,\n        cssClass: this.ep.connectorClass,\n        hoverClass: this.ep.connectorHoverClass,\n        scope: scope,\n        data: data\n      });\n      this.jpc.pending = true;\n      this.jpc.addClass(this.instance.draggingClass);\n      this.floatingEndpoint.addClass(this.instance.draggingClass);\n      this.instance.fire(EVENT_CONNECTION_DRAG, this.jpc);\n    }\n  }, {\n    key: \"startExistingConnectionDrag\",\n    value: function startExistingConnectionDrag() {\n      this.existingJpc = true;\n      this.instance.setHover(this.jpc, false);\n      var anchorIdx = this.jpc.endpoints[0].id === this.ep.id ? 0 : 1;\n      this.ep.detachFromConnection(this.jpc, null, true);\n      this.floatingEndpoint.addConnection(this.jpc);\n      this.floatingEndpoint.addClass(this.instance.draggingClass);\n      this.instance.fire(EVENT_CONNECTION_DRAG, this.jpc);\n      this.instance.sourceOrTargetChanged(this.jpc.endpoints[anchorIdx].elementId, this.placeholderInfo.id, this.jpc, this.placeholderInfo.element, anchorIdx);\n      this.jpc.suspendedEndpoint = this.jpc.endpoints[anchorIdx];\n      this.jpc.suspendedElement = this.jpc.endpoints[anchorIdx].element;\n      this.jpc.suspendedElementId = this.jpc.endpoints[anchorIdx].elementId;\n      this.jpc.suspendedElementType = anchorIdx === 0 ? SOURCE : TARGET;\n      this.instance.setHover(this.jpc.suspendedEndpoint, false);\n      this.floatingEndpoint.referenceEndpoint = this.jpc.suspendedEndpoint;\n      this.floatingEndpoint.mergeParameters(this.jpc.suspendedEndpoint.parameters);\n      this.jpc.endpoints[anchorIdx] = this.floatingEndpoint;\n      this.jpc.addClass(this.instance.draggingClass);\n      this.floatingId = this.placeholderInfo.id;\n      this.floatingIndex = anchorIdx;\n    }\n  }, {\n    key: \"_shouldStartDrag\",\n    value: function _shouldStartDrag() {\n      var _continue = true;\n      if (!this.ep.enabled) {\n        _continue = false;\n      }\n      if (this.jpc == null && !this.ep.isSource && !this.ep.isTemporarySource) {\n        _continue = false;\n      }\n      if (this.ep.isSource && this.ep.isFull() && !(this.jpc != null && this.ep.dragAllowedWhenFull)) {\n        _continue = false;\n      }\n      if (this.jpc != null && !this.jpc.isDetachable(this.ep)) {\n        if (this.ep.isFull()) {\n          _continue = false;\n        } else {\n          this.jpc = null;\n        }\n      }\n      var payload = {};\n      var beforeDrag = this.instance.checkCondition(this.jpc == null ? INTERCEPT_BEFORE_DRAG : INTERCEPT_BEFORE_START_DETACH, {\n        endpoint: this.ep,\n        source: this.ep.element,\n        sourceId: this.ep.elementId,\n        connection: this.jpc\n      });\n      if (beforeDrag === false) {\n        _continue = false;\n      }\n      else if (_typeof(beforeDrag) === \"object\") {\n        payload = beforeDrag;\n        extend(payload, this.payload || {});\n      } else {\n        payload = this.payload || {};\n      }\n      return [_continue, payload];\n    }\n  }, {\n    key: \"_createFloatingEndpoint\",\n    value: function _createFloatingEndpoint(canvasElement) {\n      var endpointToFloat = this.ep.endpoint;\n      if (this.ep.edgeType != null) {\n        var aae = this.instance._deriveEndpointAndAnchorSpec(this.ep.edgeType);\n        endpointToFloat = aae.endpoints[1];\n      }\n      this.floatingEndpoint = _makeFloatingEndpoint(this.ep, endpointToFloat, canvasElement, this.placeholderInfo.element, this.instance);\n      this.floatingAnchor = this.floatingEndpoint._anchor;\n      this.floatingEndpoint.deleteOnEmpty = true;\n      this.floatingElement = this.floatingEndpoint.endpoint.canvas;\n      this.floatingId = this.instance.getId(this.floatingElement);\n    }\n  }, {\n    key: \"_populateTargets\",\n    value: function _populateTargets(canvasElement, eventTarget, event) {\n      var _this = this;\n      var isSourceDrag = this.jpc && this.jpc.endpoints[0] === this.ep;\n      var boundingRect;\n      var matchingEndpoints = this.instance.getContainer().querySelectorAll([\".\", CLASS_ENDPOINT, \"[\", ATTRIBUTE_SCOPE_PREFIX, this.ep.scope, \"]\"].join(\"\"));\n      forEach(matchingEndpoints, function (candidate) {\n        if ((_this.jpc != null || candidate !== canvasElement) && candidate !== _this.floatingElement && !candidate.jtk.endpoint.isFull()) {\n          if (isSourceDrag && candidate.jtk.endpoint.isSource || !isSourceDrag && candidate.jtk.endpoint.isTarget) {\n            var o = _this.instance.getOffset(candidate),\n                s = _this.instance.getSize(candidate);\n            boundingRect = {\n              x: o.x,\n              y: o.y,\n              w: s.w,\n              h: s.h\n            };\n            _this.endpointDropTargets.push({\n              el: candidate,\n              targetEl: candidate,\n              r: boundingRect,\n              endpoint: candidate.jtk.endpoint,\n              def: null\n            });\n            _this.instance.addClass(candidate, CLASS_DRAG_ACTIVE);\n          }\n        }\n      });\n      if (isSourceDrag) {\n        var sourceDef = getWithFunction(this.instance.sourceSelectors, function (sSel) {\n          return sSel.isEnabled() && (sSel.def.def.scope == null || sSel.def.def.scope === _this.ep.scope);\n        });\n        if (sourceDef != null) {\n          var targetZones = this.instance.getContainer().querySelectorAll(sourceDef.redrop === REDROP_POLICY_ANY ? SELECTOR_MANAGED_ELEMENT : sourceDef.selector);\n          forEach(targetZones, function (el) {\n            if (el.getAttribute(ATTRIBUTE_JTK_ENABLED) !== FALSE$1) {\n              var scopeFromElement = el.getAttribute(ATTRIBUTE_JTK_SCOPE);\n              if (scopeFromElement != null && scopeFromElement !== _this.ep.scope) {\n                return;\n              }\n              var d = {\n                r: null,\n                el: el\n              };\n              d.targetEl = findParent(el, SELECTOR_MANAGED_ELEMENT, _this.instance.getContainer(), true);\n              var o = _this.instance.getOffset(d.el),\n                  s = _this.instance.getSize(d.el);\n              d.r = {\n                x: o.x,\n                y: o.y,\n                w: s.w,\n                h: s.h\n              };\n              if (sourceDef.def.def.rank != null) {\n                d.rank = sourceDef.def.def.rank;\n              }\n              d.def = sourceDef;\n              _this.endpointDropTargets.push(d);\n              _this.instance.addClass(d.targetEl, CLASS_DRAG_ACTIVE);\n            }\n          });\n        }\n      } else {\n        var targetDefs = getAllWithFunction(this.instance.targetSelectors, function (tSel) {\n          return tSel.isEnabled();\n        });\n        targetDefs.forEach(function (targetDef) {\n          var targetZones = _this.instance.getContainer().querySelectorAll(targetDef.selector);\n          forEach(targetZones, function (el) {\n            if (el.getAttribute(ATTRIBUTE_JTK_ENABLED) !== FALSE$1) {\n              var scopeFromElement = el.getAttribute(ATTRIBUTE_JTK_SCOPE);\n              if (scopeFromElement != null && scopeFromElement !== _this.ep.scope) {\n                return;\n              }\n              var d = {\n                r: null,\n                el: el\n              };\n              if (targetDef.def.def.parentSelector != null) {\n                d.targetEl = findParent(el, targetDef.def.def.parentSelector, _this.instance.getContainer(), true);\n              }\n              if (d.targetEl == null) {\n                d.targetEl = findParent(el, SELECTOR_MANAGED_ELEMENT, _this.instance.getContainer(), true);\n              }\n              if (targetDef.def.def.allowLoopback === false || _this._activeDefinition && _this._activeDefinition.def.def.allowLoopback === false) {\n                if (d.targetEl === _this.ep.element) {\n                  return;\n                }\n              }\n              if (targetDef.def.def.canAcceptNewConnection != null && !targetDef.def.def.canAcceptNewConnection(d.targetEl, event)) {\n                return;\n              }\n              var maxConnections = targetDef.def.def.maxConnections;\n              if (maxConnections != null && maxConnections !== -1) {\n                if (_this.instance.select({\n                  target: d.targetEl\n                }).length >= maxConnections) {\n                  return;\n                }\n              }\n              var o = _this.instance.getOffset(el),\n                  s = _this.instance.getSize(el);\n              d.r = {\n                x: o.x,\n                y: o.y,\n                w: s.w,\n                h: s.h\n              };\n              d.def = targetDef.def;\n              if (targetDef.def.def.rank != null) {\n                d.rank = targetDef.def.def.rank;\n              }\n              _this.endpointDropTargets.push(d);\n              _this.instance.addClass(d.targetEl, CLASS_DRAG_ACTIVE);\n            }\n          });\n        });\n      }\n      this.endpointDropTargets.sort(function (a, b) {\n        if (a.targetEl._isJsPlumbGroup && !b.targetEl._isJsPlumbGroup) {\n          return 1;\n        } else if (!a.targetEl._isJsPlumbGroup && b.targetEl._isJsPlumbGroup) {\n          return -1;\n        } else {\n          if (a.targetEl._isJsPlumbGroup && b.targetEl._isJsPlumbGroup) {\n            if (_this.instance.groupManager.isAncestor(a.targetEl._jsPlumbGroup, b.targetEl._jsPlumbGroup)) {\n              return -1;\n            } else if (_this.instance.groupManager.isAncestor(b.targetEl._jsPlumbGroup, a.targetEl._jsPlumbGroup)) {\n              return 1;\n            }\n          } else {\n            if (a.rank != null && b.rank != null) {\n              if (a.rank > b.rank) {\n                return -1;\n              } else if (a.rank < b.rank) {\n                return 1;\n              } else ;\n            } else {\n              return 0;\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(p) {\n      this.endpointDropTargets.length = 0;\n      this.currentDropTarget = null;\n      this._stopped = false;\n      var dragEl = p.drag.getDragElement();\n      this.ep = dragEl.jtk.endpoint;\n      var eventTarget = p.e.srcElement || p.e.target;\n      if (!this.ep) {\n        return false;\n      }\n      this.endpointRepresentation = this.ep.endpoint;\n      this.canvasElement = this.endpointRepresentation.canvas;\n      this.jpc = this.ep.connectorSelector();\n      var _this$_shouldStartDra = this._shouldStartDrag(),\n          _this$_shouldStartDra2 = _slicedToArray(_this$_shouldStartDra, 2),\n          _continue = _this$_shouldStartDra2[0],\n          payload = _this$_shouldStartDra2[1];\n      if (_continue === false) {\n        this._stopped = true;\n        return false;\n      }\n      this.instance.setHover(this.ep, false);\n      this.instance.isConnectionBeingDragged = true;\n      if (this.jpc && !this.ep.isFull() && this.ep.isSource) {\n        this.jpc = null;\n      }\n      this._createFloatingEndpoint(this.canvasElement);\n      this._populateTargets(this.canvasElement, eventTarget, p.e);\n      if (this.jpc == null) {\n        this.startNewConnectionDrag(this.ep.scope, payload);\n      } else {\n        this.startExistingConnectionDrag();\n      }\n      this._registerFloatingConnection(this.placeholderInfo, this.jpc, this.floatingEndpoint);\n      this.instance.currentlyDragging = true;\n    }\n  }, {\n    key: \"onBeforeStart\",\n    value: function onBeforeStart(beforeStartParams) {\n      this.payload = beforeStartParams.e.payload || {};\n    }\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(params) {\n      if (this._stopped) {\n        return true;\n      }\n      if (this.placeholderInfo.element) {\n        var floatingElementSize = this.instance.getSize(this.floatingElement);\n        this.instance.setElementPosition(this.placeholderInfo.element, params.pos.x, params.pos.y);\n        var boundingRect = {\n          x: params.pos.x,\n          y: params.pos.y,\n          w: floatingElementSize.w,\n          h: floatingElementSize.h\n        },\n            newDropTarget,\n            idx,\n            _cont;\n        for (var i = 0; i < this.endpointDropTargets.length; i++) {\n          if (intersects(boundingRect, this.endpointDropTargets[i].r)) {\n            newDropTarget = this.endpointDropTargets[i];\n            break;\n          }\n        }\n        if (newDropTarget !== this.currentDropTarget && this.currentDropTarget != null) {\n          idx = this._getFloatingAnchorIndex();\n          this.instance.removeClass(this.currentDropTarget.el, CLASS_DRAG_HOVER);\n          if (this.currentDropTarget.endpoint) {\n            this.currentDropTarget.endpoint.endpoint.removeClass(this.instance.endpointDropAllowedClass);\n            this.currentDropTarget.endpoint.endpoint.removeClass(this.instance.endpointDropForbiddenClass);\n          }\n          this.floatingAnchor.out();\n        }\n        if (newDropTarget != null) {\n          this.instance.addClass(newDropTarget.el, CLASS_DRAG_HOVER);\n          idx = this._getFloatingAnchorIndex();\n          if (newDropTarget.endpoint != null) {\n            _cont = newDropTarget.endpoint.isSource && idx === 0 || newDropTarget.endpoint.isTarget && idx !== 0 || this.jpc.suspendedEndpoint && newDropTarget.endpoint.referenceEndpoint && newDropTarget.endpoint.referenceEndpoint.id === this.jpc.suspendedEndpoint.id;\n            if (_cont) {\n              var bb = this.instance.checkCondition(CHECK_DROP_ALLOWED, {\n                sourceEndpoint: this.jpc.endpoints[idx],\n                targetEndpoint: newDropTarget.endpoint.endpoint,\n                connection: this.jpc\n              });\n              if (bb) {\n                newDropTarget.endpoint.endpoint.addClass(this.instance.endpointDropAllowedClass);\n                newDropTarget.endpoint.endpoint.removeClass(this.instance.endpointDropForbiddenClass);\n              } else {\n                newDropTarget.endpoint.endpoint.removeClass(this.instance.endpointDropAllowedClass);\n                newDropTarget.endpoint.endpoint.addClass(this.instance.endpointDropForbiddenClass);\n              }\n              this.floatingAnchor.over(newDropTarget.endpoint);\n              this.instance._paintConnection(this.jpc);\n            } else {\n              newDropTarget = null;\n            }\n          }\n        }\n        this.currentDropTarget = newDropTarget;\n      }\n    }\n  }, {\n    key: \"_maybeCleanup\",\n    value: function _maybeCleanup(ep) {\n      if (ep._mtNew && ep.connections.length === 0) {\n        this.instance.deleteEndpoint(ep);\n      } else {\n        delete ep._mtNew;\n      }\n    }\n  }, {\n    key: \"_reattachOrDiscard\",\n    value: function _reattachOrDiscard(originalEvent) {\n      var existingConnection = this.jpc.suspendedEndpoint != null;\n      var idx = this._getFloatingAnchorIndex();\n      if (existingConnection && this._shouldReattach(originalEvent)) {\n        if (idx === 0) {\n          this.jpc.source = this.jpc.suspendedElement;\n          this.jpc.sourceId = this.jpc.suspendedElementId;\n        } else {\n          this.jpc.target = this.jpc.suspendedElement;\n          this.jpc.targetId = this.jpc.suspendedElementId;\n        }\n        this._doForceReattach(idx);\n        return true;\n      } else {\n        this._discard(idx, originalEvent);\n        return false;\n      }\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop(p) {\n      var _this2 = this;\n      var originalEvent = p.e;\n      this.instance.isConnectionBeingDragged = false;\n      this.instance.currentlyDragging = false;\n      var classesToRemove = classList(CLASS_DRAG_HOVER, CLASS_DRAG_ACTIVE);\n      var matchingSelectors = this.instance.getContainer().querySelectorAll(SELECTOR_DRAG_ACTIVE_OR_HOVER);\n      forEach(matchingSelectors, function (el) {\n        _this2.instance.removeClass(el, classesToRemove);\n      });\n      if (this.jpc && this.jpc.endpoints != null) {\n        var existingConnection = this.jpc.suspendedEndpoint != null;\n        var idx = this._getFloatingAnchorIndex();\n        var suspendedEndpoint = this.jpc.suspendedEndpoint;\n        var dropEndpoint;\n        if (this.currentDropTarget != null) {\n          dropEndpoint = this._getDropEndpoint(p, this.jpc);\n          if (dropEndpoint == null) {\n            !this._reattachOrDiscard(p.e);\n          } else {\n            if (suspendedEndpoint && suspendedEndpoint.id === dropEndpoint.id) {\n              this._doForceReattach(idx);\n            } else {\n              if (!dropEndpoint.enabled) {\n                this._reattachOrDiscard(p.e);\n              } else if (dropEndpoint.isFull()) {\n                dropEndpoint.fire(EVENT_MAX_CONNECTIONS, {\n                  endpoint: this,\n                  connection: this.jpc,\n                  maxConnections: this.instance.defaults.maxConnections\n                }, originalEvent);\n                this._reattachOrDiscard(p.e);\n              } else {\n                if (idx === 0) {\n                  this.jpc.source = dropEndpoint.element;\n                  this.jpc.sourceId = dropEndpoint.elementId;\n                } else {\n                  this.jpc.target = dropEndpoint.element;\n                  this.jpc.targetId = dropEndpoint.elementId;\n                }\n                var _doContinue = true;\n                if (existingConnection && this.jpc.suspendedEndpoint.id !== dropEndpoint.id) {\n                  if (!this.jpc.isDetachAllowed(this.jpc) || !this.jpc.endpoints[idx].isDetachAllowed(this.jpc) || !this.jpc.suspendedEndpoint.isDetachAllowed(this.jpc) || !this.instance.checkCondition(\"beforeDetach\", this.jpc)) {\n                    _doContinue = false;\n                  }\n                }\n                _doContinue = _doContinue && dropEndpoint.isDropAllowed(this.jpc.sourceId, this.jpc.targetId, this.jpc.scope, this.jpc, dropEndpoint);\n                if (_doContinue) {\n                  this._drop(dropEndpoint, idx, originalEvent, _doContinue);\n                } else {\n                  this._reattachOrDiscard(p.e);\n                }\n              }\n            }\n          }\n        } else {\n          this._reattachOrDiscard(p.e);\n        }\n        this.instance._refreshEndpoint(this.ep);\n        this.ep.removeClass(this.instance.draggingClass);\n        this._cleanupDraggablePlaceholder();\n        this.jpc.removeClass(this.instance.draggingClass);\n        delete this.jpc.suspendedEndpoint;\n        delete this.jpc.suspendedElement;\n        delete this.jpc.suspendedElementType;\n        delete this.jpc.suspendedElementId;\n        delete this.jpc.suspendedIndex;\n        delete this.floatingId;\n        delete this.floatingIndex;\n        delete this.floatingElement;\n        delete this.floatingEndpoint;\n        delete this.floatingAnchor;\n        delete this.jpc.pending;\n        if (dropEndpoint != null) {\n          this._maybeCleanup(dropEndpoint);\n        }\n      }\n    }\n  }, {\n    key: \"_getSourceDefinition\",\n    value: function _getSourceDefinition(evt) {\n      var selector;\n      for (var i = 0; i < this.instance.sourceSelectors.length; i++) {\n        selector = this.instance.sourceSelectors[i];\n        if (selector.isEnabled()) {\n          var r = selectorFilter(evt, this.instance.getContainer(), selector.selector, this.instance, selector.exclude);\n          if (r !== false) {\n            return selector;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_getDropEndpoint\",\n    value: function _getDropEndpoint(p, jpc) {\n      var dropEndpoint;\n      if (this.currentDropTarget.endpoint == null) {\n        var targetDefinition = this.currentDropTarget.def;\n        var eventTarget = p.e.target || p.e.srcElement;\n        if (targetDefinition == null) {\n          return null;\n        }\n        var targetElement = this.currentDropTarget.targetEl;\n        var elxy = getPositionOnElement(p.e, targetElement, this.instance.currentZoom);\n        var eps = this.instance._deriveEndpointAndAnchorSpec(jpc.getType().join(\" \"), true);\n        var pp = eps.endpoints ? extend(p, {\n          endpoint: targetDefinition.def.endpoint || eps.endpoints[1]\n        }) : p;\n        var anchorsToUse = this.instance.validAnchorsSpec(eps.anchors) ? eps.anchors : this.instance.areDefaultAnchorsSet() ? this.instance.defaults.anchors : null;\n        var anchorFromDef = targetDefinition.def.anchor;\n        var anchorFromPositionFinder = targetDefinition.def.anchorPositionFinder ? targetDefinition.def.anchorPositionFinder(targetElement, elxy, targetDefinition.def, p.e) : null;\n        var dropAnchor = anchorFromPositionFinder != null ? anchorFromPositionFinder : anchorFromDef != null ? anchorFromDef : anchorsToUse != null && anchorsToUse[1] != null ? anchorsToUse[1] : null;\n        if (dropAnchor != null) {\n          pp = extend(pp, {\n            anchor: dropAnchor\n          });\n        }\n        if (targetDefinition.def.portId != null) {\n          pp.portId = targetDefinition.def.portId;\n        }\n        var extractedParameters = targetDefinition.def.parameterExtractor ? targetDefinition.def.parameterExtractor(this.currentDropTarget.el, eventTarget, p.e) : {};\n        pp = merge(pp, extractedParameters);\n        pp.element = targetElement;\n        dropEndpoint = this.instance._internal_newEndpoint(pp);\n        dropEndpoint._mtNew = true;\n        dropEndpoint.deleteOnEmpty = true;\n        if (targetDefinition.def.parameters) {\n          dropEndpoint.mergeParameters(targetDefinition.def.parameters);\n        }\n        if (targetDefinition.def.extract) {\n          var tpayload = {};\n          for (var att in targetDefinition.def.extract) {\n            var v = this.currentDropTarget.el.getAttribute(att);\n            if (v) {\n              tpayload[targetDefinition.def.extract[att]] = v;\n            }\n          }\n          dropEndpoint.mergeParameters(tpayload);\n        }\n      } else {\n        dropEndpoint = this.currentDropTarget.endpoint;\n      }\n      if (dropEndpoint) {\n        dropEndpoint.removeClass(this.instance.endpointDropAllowedClass);\n        dropEndpoint.removeClass(this.instance.endpointDropForbiddenClass);\n      }\n      return dropEndpoint;\n    }\n  }, {\n    key: \"_doForceReattach\",\n    value: function _doForceReattach(idx) {\n      this.floatingEndpoint.detachFromConnection(this.jpc, null, true);\n      this.jpc.endpoints[idx] = this.jpc.suspendedEndpoint;\n      this.instance.setHover(this.jpc, false);\n      this.jpc._forceDetach = true;\n      this.jpc.suspendedEndpoint.addConnection(this.jpc);\n      this.instance.sourceOrTargetChanged(this.floatingId, this.jpc.suspendedEndpoint.elementId, this.jpc, this.jpc.suspendedEndpoint.element, idx);\n      this.instance.deleteEndpoint(this.floatingEndpoint);\n      this.instance.repaint(this.jpc.source);\n      delete this.jpc._forceDetach;\n    }\n  }, {\n    key: \"_shouldReattach\",\n    value: function _shouldReattach(originalEvent) {\n      return this.jpc.isReattach() || this.jpc._forceReattach || !functionChain(true, false, [[this.jpc.endpoints[0], IS_DETACH_ALLOWED, [this.jpc]], [this.jpc.endpoints[1], IS_DETACH_ALLOWED, [this.jpc]], [this.jpc, IS_DETACH_ALLOWED, [this.jpc]], [this.instance, CHECK_CONDITION, [INTERCEPT_BEFORE_DETACH, this.jpc]]]);\n    }\n  }, {\n    key: \"_discard\",\n    value: function _discard(idx, originalEvent) {\n      if (this.jpc.pending) {\n        this.instance.fire(EVENT_CONNECTION_ABORT, this.jpc, originalEvent);\n      } else {\n        if (idx === 0) {\n          this.jpc.source = this.jpc.suspendedEndpoint.element;\n          this.jpc.sourceId = this.jpc.suspendedEndpoint.elementId;\n        } else {\n          this.jpc.target = this.jpc.suspendedEndpoint.element;\n          this.jpc.targetId = this.jpc.suspendedEndpoint.elementId;\n        }\n        this.jpc.endpoints[idx] = this.jpc.suspendedEndpoint;\n      }\n      if (this.floatingEndpoint) {\n        this.floatingEndpoint.detachFromConnection(this.jpc);\n      }\n      this.instance.deleteConnection(this.jpc, {\n        originalEvent: originalEvent,\n        force: true\n      });\n    }\n  }, {\n    key: \"_drop\",\n    value: function _drop(dropEndpoint, idx, originalEvent, optionalData) {\n      this.jpc.endpoints[idx].detachFromConnection(this.jpc);\n      if (this.jpc.suspendedEndpoint) {\n        this.jpc.suspendedEndpoint.detachFromConnection(this.jpc);\n      }\n      this.jpc.endpoints[idx] = dropEndpoint;\n      dropEndpoint.addConnection(this.jpc);\n      if (this.jpc.suspendedEndpoint) {\n        var suspendedElementId = this.jpc.suspendedEndpoint.elementId;\n        this.instance.fireMoveEvent({\n          index: idx,\n          originalSourceId: idx === 0 ? suspendedElementId : this.jpc.sourceId,\n          newSourceId: idx === 0 ? dropEndpoint.elementId : this.jpc.sourceId,\n          originalTargetId: idx === 1 ? suspendedElementId : this.jpc.targetId,\n          newTargetId: idx === 1 ? dropEndpoint.elementId : this.jpc.targetId,\n          originalEndpoint: this.jpc.suspendedEndpoint,\n          connection: this.jpc,\n          newEndpoint: dropEndpoint\n        }, originalEvent);\n      }\n      if (idx === 1) {\n        this.instance.sourceOrTargetChanged(this.floatingId, this.jpc.targetId, this.jpc, this.jpc.target, 1);\n      } else {\n        this.instance.sourceOrTargetChanged(this.floatingId, this.jpc.sourceId, this.jpc, this.jpc.source, 0);\n      }\n      if (this.jpc.endpoints[0].finalEndpoint) {\n        var _toDelete = this.jpc.endpoints[0];\n        _toDelete.detachFromConnection(this.jpc);\n        this.jpc.endpoints[0] = this.jpc.endpoints[0].finalEndpoint;\n        this.jpc.endpoints[0].addConnection(this.jpc);\n      }\n      if (isObject(optionalData)) {\n        this.jpc.mergeData(optionalData);\n      }\n      if (this._originalAnchorSpec) {\n        this.jpc.endpoints[0].setAnchor(this._originalAnchorSpec);\n        this._originalAnchorSpec = null;\n      }\n      this.instance._finaliseConnection(this.jpc, null, originalEvent);\n      this.instance.setHover(this.jpc, false);\n      this.instance.revalidate(this.jpc.endpoints[0].element);\n    }\n  }, {\n    key: \"_registerFloatingConnection\",\n    value: function _registerFloatingConnection(info, conn, ep) {\n      this.floatingConnections[info.id] = conn;\n      addToDictionary(this.instance.endpointsByElement, info.id, ep);\n    }\n  }, {\n    key: \"_getFloatingAnchorIndex\",\n    value: function _getFloatingAnchorIndex() {\n      return this.floatingIndex == null ? 1 : this.floatingIndex;\n    }\n  }]);\n  return EndpointDragHandler;\n}();\n\nvar GroupDragHandler = function (_ElementDragHandler) {\n  _inherits(GroupDragHandler, _ElementDragHandler);\n  var _super = _createSuper(GroupDragHandler);\n  function GroupDragHandler(instance, dragSelection) {\n    var _this;\n    _classCallCheck(this, GroupDragHandler);\n    _this = _super.call(this, instance, dragSelection);\n    _this.instance = instance;\n    _this.dragSelection = dragSelection;\n    _defineProperty(_assertThisInitialized(_this), \"selector\", [\">\", SELECTOR_GROUP, SELECTOR_MANAGED_ELEMENT].join(\" \"));\n    _defineProperty(_assertThisInitialized(_this), \"doRevalidate\", void 0);\n    _this.doRevalidate = _this._revalidate.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(GroupDragHandler, [{\n    key: \"reset\",\n    value: function reset() {\n      this.drag.off(EVENT_REVERT, this.doRevalidate);\n    }\n  }, {\n    key: \"_revalidate\",\n    value: function _revalidate(el) {\n      this.instance.revalidate(el);\n    }\n  }, {\n    key: \"init\",\n    value: function init(drag) {\n      this.drag = drag;\n      drag.on(EVENT_REVERT, this.doRevalidate);\n    }\n  }, {\n    key: \"useGhostProxy\",\n    value: function useGhostProxy(container, dragEl) {\n      var group = dragEl._jsPlumbParentGroup;\n      return group == null ? false : group.ghost === true;\n    }\n  }, {\n    key: \"makeGhostProxy\",\n    value: function makeGhostProxy(el) {\n      var jel = el;\n      var newEl = jel.cloneNode(true);\n      newEl._jsPlumbParentGroup = jel._jsPlumbParentGroup;\n      return newEl;\n    }\n  }]);\n  return GroupDragHandler;\n}(ElementDragHandler);\n\nvar HTMLElementOverlay = function () {\n  function HTMLElementOverlay(instance, overlay) {\n    _classCallCheck(this, HTMLElementOverlay);\n    this.instance = instance;\n    this.overlay = overlay;\n    _defineProperty(this, \"htmlElementOverlay\", void 0);\n    this.htmlElementOverlay = overlay;\n  }\n  _createClass(HTMLElementOverlay, null, [{\n    key: \"getElement\",\n    value: function getElement(o, component, elementCreator) {\n      if (o.canvas == null) {\n        if (elementCreator && component) {\n          o.canvas = elementCreator(component);\n          var cls = o.instance.overlayClass + \" \" + (o.cssClass ? o.cssClass : \"\");\n          o.instance.addClass(o.canvas, cls);\n        } else {\n          o.canvas = createElement(ELEMENT_DIV, {}, o.instance.overlayClass + \" \" + (o.cssClass ? o.cssClass : \"\"));\n        }\n        o.instance.setAttribute(o.canvas, \"jtk-overlay-id\", o.id);\n        for (var att in o.attributes) {\n          o.instance.setAttribute(o.canvas, att, o.attributes[att]);\n        }\n        o.canvas.style.position = ABSOLUTE;\n        o.instance._appendElement(o.canvas, o.instance.getContainer());\n        o.instance.getId(o.canvas);\n        var ts = \"translate(-50%, -50%)\";\n        o.canvas.style.webkitTransform = ts;\n        o.canvas.style.mozTransform = ts;\n        o.canvas.style.msTransform = ts;\n        o.canvas.style.oTransform = ts;\n        o.canvas.style.transform = ts;\n        if (!o.isVisible()) {\n          o.canvas.style.display = NONE;\n        }\n        o.canvas.jtk = {\n          overlay: o\n        };\n      }\n      return o.canvas;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(o) {\n      o.canvas && o.canvas.parentNode && o.canvas.parentNode.removeChild(o.canvas);\n      delete o.canvas;\n      delete o.cachedDimensions;\n    }\n  }, {\n    key: \"_getDimensions\",\n    value: function _getDimensions(o, forceRefresh) {\n      if (o.cachedDimensions == null || forceRefresh) {\n        o.cachedDimensions = {\n          w: 1,\n          h: 1\n        };\n      }\n      return o.cachedDimensions;\n    }\n  }]);\n  return HTMLElementOverlay;\n}();\n\nvar SVGElementOverlay = function (_Overlay) {\n  _inherits(SVGElementOverlay, _Overlay);\n  var _super = _createSuper(SVGElementOverlay);\n  function SVGElementOverlay() {\n    var _this;\n    _classCallCheck(this, SVGElementOverlay);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"path\", void 0);\n    return _this;\n  }\n  _createClass(SVGElementOverlay, null, [{\n    key: \"ensurePath\",\n    value: function ensurePath(o) {\n      if (o.path == null) {\n        var atts = extend({\n          \"jtk-overlay-id\": o.id\n        }, o.attributes);\n        o.path = _node(ELEMENT_PATH, atts);\n        var parent = null;\n        if (o.component instanceof Connection) {\n          var connector = o.component.connector;\n          parent = connector != null ? connector.canvas : null;\n        } else if (o.component instanceof Endpoint) {\n          var endpoint = o.component.endpoint;\n          parent = endpoint != null ? endpoint.svg : endpoint;\n        }\n        if (parent != null) {\n          _appendAtIndex(parent, o.path, 1);\n        }\n        var cls = o.instance.overlayClass + \" \" + (o.cssClass ? o.cssClass : \"\");\n        o.instance.addClass(o.path, cls);\n        o.path.jtk = {\n          overlay: o\n        };\n      }\n      return o.path;\n    }\n  }, {\n    key: \"paint\",\n    value: function paint(o, path, params, extents) {\n      this.ensurePath(o);\n      var offset = [0, 0];\n      if (extents.xmin < 0) {\n        offset[0] = -extents.xmin;\n      }\n      if (extents.ymin < 0) {\n        offset[1] = -extents.ymin;\n      }\n      var a = {\n        \"d\": path,\n        stroke: params.stroke ? params.stroke : null,\n        fill: params.fill ? params.fill : null,\n        transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\",\n        \"pointer-events\": \"visibleStroke\"\n      };\n      _attr(o.path, a);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(o, force) {\n      var _o = o;\n      if (_o.path != null && _o.path.parentNode != null) {\n        _o.path.parentNode.removeChild(_o.path);\n      }\n      if (_o.bgPath != null && _o.bgPath.parentNode != null) {\n        _o.bgPath.parentNode.removeChild(_o.bgPath);\n      }\n      delete _o.path;\n      delete _o.bgPath;\n    }\n  }]);\n  return SVGElementOverlay;\n}(Overlay);\n\nvar SvgComponent = function () {\n  function SvgComponent() {\n    _classCallCheck(this, SvgComponent);\n  }\n  _createClass(SvgComponent, null, [{\n    key: \"paint\",\n    value: function paint(connector, useDivWrapper, paintStyle, extents) {\n      if (paintStyle != null) {\n        var xy = [connector.x, connector.y],\n            wh = [connector.w, connector.h],\n            p;\n        if (extents != null) {\n          if (extents.xmin < 0) {\n            xy[0] += extents.xmin;\n          }\n          if (extents.ymin < 0) {\n            xy[1] += extents.ymin;\n          }\n          wh[0] = extents.xmax + (extents.xmin < 0 ? -extents.xmin : 0);\n          wh[1] = extents.ymax + (extents.ymin < 0 ? -extents.ymin : 0);\n        }\n        if (isFinite(wh[0]) && isFinite(wh[1])) {\n          if (useDivWrapper) {\n            _size(connector.canvas, xy[0], xy[1], wh[0], wh[1]);\n            xy[0] = 0;\n            xy[1] = 0;\n            p = _pos([0, 0]);\n            _attr(connector.svg, {\n              \"style\": p,\n              \"width\": \"\" + (wh[0] || 0),\n              \"height\": \"\" + (wh[1] || 0)\n            });\n          } else {\n            p = _pos([xy[0], xy[1]]);\n            _attr(connector.canvas, {\n              \"style\": p,\n              \"width\": \"\" + (wh[0] || 0),\n              \"height\": \"\" + (wh[1] || 0)\n            });\n          }\n        }\n      }\n    }\n  }]);\n  return SvgComponent;\n}();\n\nfunction paintSvgConnector(instance, connector, paintStyle, extents) {\n  getConnectorElement(instance, connector);\n  SvgComponent.paint(connector, false, paintStyle, extents);\n  var p = \"\",\n      offset = [0, 0];\n  if (extents.xmin < 0) {\n    offset[0] = -extents.xmin;\n  }\n  if (extents.ymin < 0) {\n    offset[1] = -extents.ymin;\n  }\n  if (connector.segments.length > 0) {\n    p = instance.getPathData(connector);\n    var a = {\n      d: p,\n      transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\",\n      \"pointer-events\": \"visibleStroke\"\n    },\n        outlineStyle = null;\n    if (paintStyle.outlineStroke) {\n      var outlineWidth = paintStyle.outlineWidth || 1,\n          outlineStrokeWidth = paintStyle.strokeWidth + 2 * outlineWidth;\n      outlineStyle = extend({}, paintStyle);\n      outlineStyle.stroke = paintStyle.outlineStroke;\n      outlineStyle.strokeWidth = outlineStrokeWidth;\n      if (connector.bgPath == null) {\n        connector.bgPath = _node(ELEMENT_PATH, a);\n        instance.addClass(connector.bgPath, instance.connectorOutlineClass);\n        _appendAtIndex(connector.canvas, connector.bgPath, 0);\n      } else {\n        _attr(connector.bgPath, a);\n      }\n      _applyStyles(connector.canvas, connector.bgPath, outlineStyle);\n    }\n    var cany = connector;\n    if (cany.path == null) {\n      cany.path = _node(ELEMENT_PATH, a);\n      _appendAtIndex(cany.canvas, cany.path, paintStyle.outlineStroke ? 1 : 0);\n    } else {\n      if (cany.path.parentNode !== cany.canvas) {\n        _appendAtIndex(cany.canvas, cany.path, paintStyle.outlineStroke ? 1 : 0);\n      }\n      _attr(connector.path, a);\n    }\n    _applyStyles(connector.canvas, connector.path, paintStyle);\n  }\n}\nfunction getConnectorElement(instance, c) {\n  if (c.canvas != null) {\n    return c.canvas;\n  } else {\n    var svg = _node(ELEMENT_SVG, {\n      \"style\": \"\",\n      \"width\": \"0\",\n      \"height\": \"0\",\n      \"pointer-events\": NONE,\n      \"position\": ABSOLUTE\n    });\n    c.canvas = svg;\n    instance._appendElement(c.canvas, instance.getContainer());\n    if (c.cssClass != null) {\n      instance.addClass(svg, c.cssClass);\n    }\n    instance.addClass(svg, instance.connectorClass);\n    svg.jtk = svg.jtk || {};\n    svg.jtk.connector = c;\n    return svg;\n  }\n}\n\nvar SvgEndpoint = function () {\n  function SvgEndpoint() {\n    _classCallCheck(this, SvgEndpoint);\n  }\n  _createClass(SvgEndpoint, null, [{\n    key: \"getEndpointElement\",\n    value: function getEndpointElement(ep) {\n      if (ep.canvas != null) {\n        return ep.canvas;\n      } else {\n        var svg = _node(ELEMENT_SVG, {\n          \"style\": \"\",\n          \"width\": \"0\",\n          \"height\": \"0\",\n          \"pointer-events\": NONE,\n          \"position\": ABSOLUTE\n        });\n        ep.svg = svg;\n        var canvas = createElement(ELEMENT_DIV, {\n          position: ABSOLUTE\n        });\n        ep.canvas = canvas;\n        var classes = ep.classes.join(\" \");\n        ep.instance.addClass(canvas, classes);\n        var scopes = ep.endpoint.scope.split(/\\s/);\n        for (var i = 0; i < scopes.length; i++) {\n          ep.instance.setAttribute(canvas, ATTRIBUTE_SCOPE_PREFIX + scopes[i], TRUE$1);\n        }\n        if (!ep.instance._suspendDrawing) {\n          _size(canvas, 0, 0, 1, 1);\n        }\n        ep.instance._appendElement(canvas, ep.instance.getContainer());\n        canvas.appendChild(svg);\n        if (ep.cssClass != null) {\n          ep.instance.addClass(canvas, ep.cssClass);\n        }\n        ep.instance.addClass(canvas, ep.instance.endpointClass);\n        canvas.jtk = canvas.jtk || {};\n        canvas.jtk.endpoint = ep.endpoint;\n        canvas.style.display = ep.endpoint.visible !== false ? BLOCK : NONE;\n        return canvas;\n      }\n    }\n  }, {\n    key: \"paint\",\n    value: function paint(ep, handlers, paintStyle) {\n      this.getEndpointElement(ep);\n      SvgComponent.paint(ep, true, paintStyle);\n      var s = extend({}, paintStyle);\n      if (s.outlineStroke) {\n        s.stroke = s.outlineStroke;\n      }\n      if (ep.node == null) {\n        ep.node = handlers.makeNode(ep, s);\n        ep.svg.appendChild(ep.node);\n      } else if (handlers.updateNode != null) {\n        handlers.updateNode(ep, ep.node);\n      }\n      _applyStyles(ep.canvas, ep.node, s);\n    }\n  }]);\n  return SvgEndpoint;\n}();\n\nvar endpointMap = {};\nfunction registerEndpointRenderer(name, fns) {\n  endpointMap[name] = fns;\n}\nfunction getPositionOnElement(evt, el, zoom) {\n  var jel = el;\n  var box = _typeof(el.getBoundingClientRect) !== UNDEFINED ? el.getBoundingClientRect() : {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  },\n      body = document.body,\n      docElem = document.documentElement,\n      scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\n      scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\n      clientTop = docElem.clientTop || body.clientTop || 0,\n      clientLeft = docElem.clientLeft || body.clientLeft || 0,\n      pst = 0,\n      psl = 0,\n      top = box.top + scrollTop - clientTop + pst * zoom,\n      left = box.left + scrollLeft - clientLeft + psl * zoom,\n      cl = pageLocation(evt),\n      w = box.width || jel.offsetWidth * zoom,\n      h = box.height || jel.offsetHeight * zoom,\n      x = (cl.x - left) / w,\n      y = (cl.y - top) / h;\n  return {\n    x: x,\n    y: y\n  };\n}\nfunction isSVGElementOverlay(o) {\n  return isArrowOverlay(o) || isDiamondOverlay(o) || isPlainArrowOverlay(o);\n}\nfunction setVisible(component, v) {\n  if (component.canvas) {\n    component.canvas.style.display = v ? \"block\" : \"none\";\n  }\n}\nfunction cleanup(component) {\n  if (component.canvas) {\n    component.canvas.parentNode.removeChild(component.canvas);\n  }\n  delete component.canvas;\n  delete component.svg;\n}\nfunction getEndpointCanvas(ep) {\n  return ep.canvas;\n}\nfunction getLabelElement(o) {\n  return HTMLElementOverlay.getElement(o);\n}\nfunction getCustomElement(o) {\n  return HTMLElementOverlay.getElement(o, o.component, function (c) {\n    var el = o.create(c);\n    o.instance.addClass(el, o.instance.overlayClass);\n    return el;\n  });\n}\nfunction groupDragConstrain(desiredLoc, dragEl, constrainRect, size) {\n  var x = desiredLoc.x,\n      y = desiredLoc.y;\n  if (dragEl._jsPlumbParentGroup && dragEl._jsPlumbParentGroup.constrain) {\n    x = Math.max(desiredLoc.x, 0);\n    y = Math.max(desiredLoc.y, 0);\n    x = Math.min(x, constrainRect.w - size.w);\n    y = Math.min(y, constrainRect.h - size.h);\n  }\n  return {\n    x: x,\n    y: y\n  };\n}\nvar BrowserJsPlumbInstance = function (_JsPlumbInstance) {\n  _inherits(BrowserJsPlumbInstance, _JsPlumbInstance);\n  var _super = _createSuper(BrowserJsPlumbInstance);\n  function BrowserJsPlumbInstance(_instanceIndex, defaults) {\n    var _this;\n    _classCallCheck(this, BrowserJsPlumbInstance);\n    _this = _super.call(this, _instanceIndex, defaults);\n    _this._instanceIndex = _instanceIndex;\n    _defineProperty(_assertThisInitialized(_this), \"dragSelection\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"dragManager\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorDblClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorTap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorDblTap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_endpointClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_endpointDblClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_overlayClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_overlayDblClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_overlayTap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_overlayDblTap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorMouseover\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorMouseout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_endpointMouseover\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_endpointMouseout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorContextmenu\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorMousedown\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_connectorMouseup\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_endpointMousedown\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_endpointMouseup\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_overlayMouseover\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_overlayMouseout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementClick\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementTap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementDblTap\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementMouseenter\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementMouseexit\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementMousemove\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementMouseup\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementMousedown\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_elementContextmenu\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"eventManager\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"draggingClass\", \"jtk-dragging\");\n    _defineProperty(_assertThisInitialized(_this), \"elementDraggingClass\", \"jtk-element-dragging\");\n    _defineProperty(_assertThisInitialized(_this), \"hoverClass\", \"jtk-hover\");\n    _defineProperty(_assertThisInitialized(_this), \"sourceElementDraggingClass\", \"jtk-source-element-dragging\");\n    _defineProperty(_assertThisInitialized(_this), \"targetElementDraggingClass\", \"jtk-target-element-dragging\");\n    _defineProperty(_assertThisInitialized(_this), \"hoverSourceClass\", \"jtk-source-hover\");\n    _defineProperty(_assertThisInitialized(_this), \"hoverTargetClass\", \"jtk-target-hover\");\n    _defineProperty(_assertThisInitialized(_this), \"dragSelectClass\", \"jtk-drag-select\");\n    _defineProperty(_assertThisInitialized(_this), \"managedElementsSelector\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"elementsDraggable\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"elementDragHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"groupDragOptions\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"elementDragOptions\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"svg\", {\n      node: function node(name, attributes) {\n        return _node(name, attributes);\n      },\n      attr: function attr(node, attributes) {\n        return _attr(node, attributes);\n      },\n      pos: function pos(d) {\n        return _pos(d);\n      }\n    });\n    _this.elementsDraggable = defaults && defaults.elementsDraggable !== false;\n    _this.managedElementsSelector = defaults ? defaults.managedElementsSelector || SELECTOR_MANAGED_ELEMENT : SELECTOR_MANAGED_ELEMENT;\n    _this.eventManager = new EventManager();\n    _this.dragSelection = new DragSelection(_assertThisInitialized(_this));\n    _this.dragManager = new DragManager(_assertThisInitialized(_this), _this.dragSelection);\n    _this.dragManager.addHandler(new EndpointDragHandler(_assertThisInitialized(_this)));\n    _this.groupDragOptions = {\n      constrainFunction: groupDragConstrain\n    };\n    _this.dragManager.addHandler(new GroupDragHandler(_assertThisInitialized(_this), _this.dragSelection), _this.groupDragOptions);\n    _this.elementDragHandler = new ElementDragHandler(_assertThisInitialized(_this), _this.dragSelection);\n    _this.elementDragOptions = defaults && defaults.dragOptions || {};\n    _this.dragManager.addHandler(_this.elementDragHandler, _this.elementDragOptions);\n    if (defaults && defaults.dragOptions && defaults.dragOptions.filter) {\n      _this.dragManager.addFilter(defaults.dragOptions.filter);\n    }\n    var _connClick = function _connClick(event, e) {\n      if (!e.defaultPrevented && e._jsPlumbOverlay == null) {\n        var connectorElement = findParent(getEventSource(e), SELECTOR_CONNECTOR, this.getContainer(), true);\n        this.fire(event, connectorElement.jtk.connector.connection, e);\n      }\n    };\n    _this._connectorClick = _connClick.bind(_assertThisInitialized(_this), EVENT_CONNECTION_CLICK);\n    _this._connectorDblClick = _connClick.bind(_assertThisInitialized(_this), EVENT_CONNECTION_DBL_CLICK);\n    _this._connectorTap = _connClick.bind(_assertThisInitialized(_this), EVENT_CONNECTION_TAP);\n    _this._connectorDblTap = _connClick.bind(_assertThisInitialized(_this), EVENT_CONNECTION_DBL_TAP);\n    var _connectorHover = function _connectorHover(state, e) {\n      var el = getEventSource(e).parentNode;\n      if (el.jtk && el.jtk.connector) {\n        var connector = el.jtk.connector;\n        var connection = connector.connection;\n        this.setConnectorHover(connector, state);\n        if (state) {\n          this.addClass(connection.source, this.hoverSourceClass);\n          this.addClass(connection.target, this.hoverTargetClass);\n        } else {\n          this.removeClass(connection.source, this.hoverSourceClass);\n          this.removeClass(connection.target, this.hoverTargetClass);\n        }\n        this.fire(state ? EVENT_CONNECTION_MOUSEOVER : EVENT_CONNECTION_MOUSEOUT, el.jtk.connector.connection, e);\n      }\n    };\n    _this._connectorMouseover = _connectorHover.bind(_assertThisInitialized(_this), true);\n    _this._connectorMouseout = _connectorHover.bind(_assertThisInitialized(_this), false);\n    var _connectorMouseupdown = function _connectorMouseupdown(state, e) {\n      var el = getEventSource(e).parentNode;\n      if (el.jtk && el.jtk.connector) {\n        this.fire(state ? EVENT_CONNECTION_MOUSEUP : EVENT_CONNECTION_MOUSEDOWN, el.jtk.connector.connection, e);\n      }\n    };\n    _this._connectorMouseup = _connectorMouseupdown.bind(_assertThisInitialized(_this), true);\n    _this._connectorMousedown = _connectorMouseupdown.bind(_assertThisInitialized(_this), false);\n    _this._connectorContextmenu = function (e) {\n      var el = getEventSource(e).parentNode;\n      if (el.jtk && el.jtk.connector) {\n        this.fire(EVENT_CONNECTION_CONTEXTMENU, el.jtk.connector.connection, e);\n      }\n    }.bind(_assertThisInitialized(_this));\n    var _epClick = function _epClick(event, e, endpointElement) {\n      if (!e.defaultPrevented && e._jsPlumbOverlay == null) {\n        this.fire(event, endpointElement.jtk.endpoint, e);\n      }\n    };\n    _this._endpointClick = _epClick.bind(_assertThisInitialized(_this), EVENT_ENDPOINT_CLICK);\n    _this._endpointDblClick = _epClick.bind(_assertThisInitialized(_this), EVENT_ENDPOINT_DBL_CLICK);\n    var _endpointHover = function _endpointHover(state, e) {\n      var el = getEventSource(e);\n      if (el.jtk && el.jtk.endpoint) {\n        this.setEndpointHover(el.jtk.endpoint, state);\n        this.fire(state ? EVENT_ENDPOINT_MOUSEOVER : EVENT_ENDPOINT_MOUSEOUT, el.jtk.endpoint, e);\n      }\n    };\n    _this._endpointMouseover = _endpointHover.bind(_assertThisInitialized(_this), true);\n    _this._endpointMouseout = _endpointHover.bind(_assertThisInitialized(_this), false);\n    var _endpointMouseupdown = function _endpointMouseupdown(state, e) {\n      var el = getEventSource(e);\n      if (el.jtk && el.jtk.endpoint) {\n        this.fire(state ? EVENT_ENDPOINT_MOUSEUP : EVENT_ENDPOINT_MOUSEDOWN, el.jtk.endpoint, e);\n      }\n    };\n    _this._endpointMouseup = _endpointMouseupdown.bind(_assertThisInitialized(_this), true);\n    _this._endpointMousedown = _endpointMouseupdown.bind(_assertThisInitialized(_this), false);\n    var _oClick = function (method, e) {\n      var overlayElement = findParent(getEventSource(e), SELECTOR_OVERLAY, this.getContainer(), true);\n      var overlay = overlayElement.jtk.overlay;\n      if (overlay) {\n        this.fireOverlayMethod(overlay, method, e);\n      }\n    }.bind(_assertThisInitialized(_this));\n    _this._overlayClick = _oClick.bind(_assertThisInitialized(_this), EVENT_CLICK);\n    _this._overlayDblClick = _oClick.bind(_assertThisInitialized(_this), EVENT_DBL_CLICK);\n    _this._overlayTap = _oClick.bind(_assertThisInitialized(_this), EVENT_TAP);\n    _this._overlayDblTap = _oClick.bind(_assertThisInitialized(_this), EVENT_DBL_TAP);\n    var _overlayHover = function _overlayHover(state, e) {\n      var overlayElement = findParent(getEventSource(e), SELECTOR_OVERLAY, this.getContainer(), true);\n      var overlay = overlayElement.jtk.overlay;\n      if (overlay) {\n        this.setOverlayHover(overlay, state);\n      }\n    };\n    _this._overlayMouseover = _overlayHover.bind(_assertThisInitialized(_this), true);\n    _this._overlayMouseout = _overlayHover.bind(_assertThisInitialized(_this), false);\n    var _elementClick = function _elementClick(event, e, target) {\n      if (!e.defaultPrevented) {\n        this.fire(e.detail === 1 ? EVENT_ELEMENT_CLICK : EVENT_ELEMENT_DBL_CLICK, target, e);\n      }\n    };\n    _this._elementClick = _elementClick.bind(_assertThisInitialized(_this), EVENT_ELEMENT_CLICK);\n    var _elementTap = function _elementTap(event, e, target) {\n      if (!e.defaultPrevented) {\n        this.fire(EVENT_ELEMENT_TAP, target, e);\n      }\n    };\n    _this._elementTap = _elementTap.bind(_assertThisInitialized(_this), EVENT_ELEMENT_TAP);\n    var _elementDblTap = function _elementDblTap(event, e, target) {\n      if (!e.defaultPrevented) {\n        this.fire(EVENT_ELEMENT_DBL_TAP, target, e);\n      }\n    };\n    _this._elementDblTap = _elementDblTap.bind(_assertThisInitialized(_this), EVENT_ELEMENT_DBL_TAP);\n    var _elementHover = function _elementHover(state, e) {\n      this.fire(state ? EVENT_ELEMENT_MOUSE_OVER : EVENT_ELEMENT_MOUSE_OUT, getEventSource(e), e);\n    };\n    _this._elementMouseenter = _elementHover.bind(_assertThisInitialized(_this), true);\n    _this._elementMouseexit = _elementHover.bind(_assertThisInitialized(_this), false);\n    _this._elementMousemove = function (e) {\n      this.fire(EVENT_ELEMENT_MOUSE_MOVE, getEventSource(e), e);\n    }.bind(_assertThisInitialized(_this));\n    _this._elementMouseup = function (e) {\n      this.fire(EVENT_ELEMENT_MOUSE_UP, getEventSource(e), e);\n    }.bind(_assertThisInitialized(_this));\n    _this._elementMousedown = function (e) {\n      this.fire(EVENT_ELEMENT_MOUSE_DOWN, getEventSource(e), e);\n    }.bind(_assertThisInitialized(_this));\n    _this._elementContextmenu = function (e) {\n      this.fire(EVENT_ELEMENT_CONTEXTMENU, getEventSource(e), e);\n    }.bind(_assertThisInitialized(_this));\n    _this._attachEventDelegates();\n    return _this;\n  }\n  _createClass(BrowserJsPlumbInstance, [{\n    key: \"fireOverlayMethod\",\n    value: function fireOverlayMethod(overlay, event, e) {\n      var stem = overlay.component instanceof Connection ? CONNECTION : ENDPOINT;\n      var mappedEvent = compoundEvent(stem, event)\n      ;\n      e._jsPlumbOverlay = overlay;\n      overlay.fire(event, {\n        e: e,\n        overlay: overlay\n      });\n      this.fire(mappedEvent, overlay.component, e);\n    }\n  }, {\n    key: \"addDragFilter\",\n    value: function addDragFilter(filter, exclude) {\n      this.dragManager.addFilter(filter, exclude);\n    }\n  }, {\n    key: \"removeDragFilter\",\n    value: function removeDragFilter(filter) {\n      this.dragManager.removeFilter(filter);\n    }\n  }, {\n    key: \"setDragGrid\",\n    value: function setDragGrid(grid) {\n      this.dragManager.setOption(this.elementDragHandler, {\n        grid: grid\n      });\n    }\n  }, {\n    key: \"_removeElement\",\n    value: function _removeElement(element) {\n      element.parentNode && element.parentNode.removeChild(element);\n    }\n  }, {\n    key: \"_appendElement\",\n    value: function _appendElement(el, parent) {\n      if (parent) {\n        parent.appendChild(el);\n      }\n    }\n  }, {\n    key: \"_getAssociatedElements\",\n    value: function _getAssociatedElements(el) {\n      var a = [];\n      if (el.nodeType !== 3 && el.nodeType !== 8) {\n        var els = el.querySelectorAll(SELECTOR_MANAGED_ELEMENT);\n        Array.prototype.push.apply(a, els);\n      }\n      return a.filter(function (_a) {\n        return _a.nodeType !== 3 && _a.nodeType !== 8;\n      });\n    }\n  }, {\n    key: \"shouldFireEvent\",\n    value: function shouldFireEvent(event, value, originalEvent) {\n      return true;\n    }\n  }, {\n    key: \"getClass\",\n    value: function getClass$1(el) {\n      return getClass(el);\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass$1(el, clazz) {\n      addClass(el, clazz);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass$1(el, clazz) {\n      return hasClass(el, clazz);\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass$1(el, clazz) {\n      removeClass(el, clazz);\n    }\n  }, {\n    key: \"toggleClass\",\n    value: function toggleClass$1(el, clazz) {\n      toggleClass(el, clazz);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(el, name, value) {\n      el.setAttribute(name, value);\n    }\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(el, name) {\n      return el.getAttribute(name);\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes(el, atts) {\n      for (var i in atts) {\n        el.setAttribute(i, atts[i]);\n      }\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(el, attName) {\n      el.removeAttribute && el.removeAttribute(attName);\n    }\n  }, {\n    key: \"on\",\n    value: function on(el, event, callbackOrSelector, callback) {\n      var _this2 = this;\n      var _one = function _one(_el) {\n        if (callback == null) {\n          _this2.eventManager.on(_el, event, callbackOrSelector);\n        } else {\n          _this2.eventManager.on(_el, event, callbackOrSelector, callback);\n        }\n      };\n      if (isNodeList(el)) {\n        forEach(el, function (el) {\n          return _one(el);\n        });\n      } else {\n        _one(el);\n      }\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(el, event, callback) {\n      var _this3 = this;\n      if (isNodeList(el)) {\n        forEach(el, function (_el) {\n          return _this3.eventManager.off(_el, event, callback);\n        });\n      } else {\n        this.eventManager.off(el, event, callback);\n      }\n      return this;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(el, event, originalEvent, payload, detail) {\n      this.eventManager.trigger(el, event, originalEvent, payload, detail);\n    }\n  }, {\n    key: \"getOffsetRelativeToRoot\",\n    value: function getOffsetRelativeToRoot(el) {\n      return offsetRelativeToRoot(el);\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset(el) {\n      var jel = el;\n      var container = this.getContainer();\n      var out = {\n        x: jel.offsetLeft,\n        y: jel.offsetTop\n      },\n          op = el !== container && jel.offsetParent !== container ? jel.offsetParent : null,\n          _maybeAdjustScroll = function _maybeAdjustScroll(offsetParent) {\n        if (offsetParent != null && offsetParent !== document.body && (offsetParent.scrollTop > 0 || offsetParent.scrollLeft > 0)) {\n          out.x -= offsetParent.scrollLeft;\n          out.y -= offsetParent.scrollTop;\n        }\n      };\n      while (op != null) {\n        out.x += op.offsetLeft;\n        out.y += op.offsetTop;\n        _maybeAdjustScroll(op);\n        op = op.offsetParent === container ? null : op.offsetParent;\n      }\n      if (container != null && (container.scrollTop > 0 || container.scrollLeft > 0)) {\n        var pp = jel.offsetParent != null ? this.getStyle(jel.offsetParent, PROPERTY_POSITION) : STATIC,\n            p = this.getStyle(jel, PROPERTY_POSITION);\n        if (p !== ABSOLUTE && p !== FIXED && pp !== ABSOLUTE && pp !== FIXED) {\n          out.x -= container.scrollLeft;\n          out.y -= container.scrollTop;\n        }\n      }\n      return out;\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize(el) {\n      return size(el);\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(el, prop) {\n      if (_typeof(window.getComputedStyle) !== UNDEFINED) {\n        return getComputedStyle(el, null).getPropertyValue(prop);\n      } else {\n        return el.currentStyle[prop];\n      }\n    }\n  }, {\n    key: \"getGroupContentArea\",\n    value: function getGroupContentArea(group) {\n      var da = this.getSelector(group.el, SELECTOR_GROUP_CONTAINER);\n      return da && da.length > 0 ? da[0] : group.el;\n    }\n  }, {\n    key: \"getSelector\",\n    value: function getSelector(ctx, spec) {\n      var sel = null;\n      if (arguments.length === 1) {\n        if (!isString(ctx)) {\n          var nodeList = document.createDocumentFragment();\n          nodeList.appendChild(ctx);\n          return fromArray(nodeList.childNodes);\n        }\n        sel = fromArray(document.querySelectorAll(ctx));\n      } else {\n        sel = fromArray(ctx.querySelectorAll(spec));\n      }\n      return sel;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(el, p) {\n      var jel = el;\n      jel.style.left = p.x + \"px\";\n      jel.style.top = p.y + \"px\";\n    }\n  }, {\n    key: \"setDraggable\",\n    value: function setDraggable(element, draggable) {\n      if (draggable) {\n        this.removeAttribute(element, ATTRIBUTE_NOT_DRAGGABLE);\n      } else {\n        this.setAttribute(element, ATTRIBUTE_NOT_DRAGGABLE, TRUE$1);\n      }\n    }\n  }, {\n    key: \"isDraggable\",\n    value: function isDraggable(el) {\n      var d = this.getAttribute(el, ATTRIBUTE_NOT_DRAGGABLE);\n      return d == null || d === FALSE$1;\n    }\n  }, {\n    key: \"toggleDraggable\",\n    value: function toggleDraggable(el) {\n      var state = this.isDraggable(el);\n      this.setDraggable(el, !state);\n      return !state;\n    }\n  }, {\n    key: \"_attachEventDelegates\",\n    value: function _attachEventDelegates() {\n      var currentContainer = this.getContainer();\n      this.eventManager.on(currentContainer, EVENT_CLICK, SELECTOR_OVERLAY, this._overlayClick);\n      this.eventManager.on(currentContainer, EVENT_DBL_CLICK, SELECTOR_OVERLAY, this._overlayDblClick);\n      this.eventManager.on(currentContainer, EVENT_TAP, SELECTOR_OVERLAY, this._overlayTap);\n      this.eventManager.on(currentContainer, EVENT_DBL_TAP, SELECTOR_OVERLAY, this._overlayDblTap);\n      this.eventManager.on(currentContainer, EVENT_CLICK, SELECTOR_CONNECTOR, this._connectorClick);\n      this.eventManager.on(currentContainer, EVENT_DBL_CLICK, SELECTOR_CONNECTOR, this._connectorDblClick);\n      this.eventManager.on(currentContainer, EVENT_TAP, SELECTOR_CONNECTOR, this._connectorTap);\n      this.eventManager.on(currentContainer, EVENT_DBL_TAP, SELECTOR_CONNECTOR, this._connectorDblTap);\n      this.eventManager.on(currentContainer, EVENT_CLICK, SELECTOR_ENDPOINT, this._endpointClick);\n      this.eventManager.on(currentContainer, EVENT_DBL_CLICK, SELECTOR_ENDPOINT, this._endpointDblClick);\n      this.eventManager.on(currentContainer, EVENT_CLICK, this.managedElementsSelector, this._elementClick);\n      this.eventManager.on(currentContainer, EVENT_TAP, this.managedElementsSelector, this._elementTap);\n      this.eventManager.on(currentContainer, EVENT_DBL_TAP, this.managedElementsSelector, this._elementDblTap);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOVER, SELECTOR_CONNECTOR, this._connectorMouseover);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOUT, SELECTOR_CONNECTOR, this._connectorMouseout);\n      this.eventManager.on(currentContainer, EVENT_CONTEXTMENU, SELECTOR_CONNECTOR, this._connectorContextmenu);\n      this.eventManager.on(currentContainer, EVENT_MOUSEUP, SELECTOR_CONNECTOR, this._connectorMouseup);\n      this.eventManager.on(currentContainer, EVENT_MOUSEDOWN, SELECTOR_CONNECTOR, this._connectorMousedown);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOVER, SELECTOR_ENDPOINT, this._endpointMouseover);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOUT, SELECTOR_ENDPOINT, this._endpointMouseout);\n      this.eventManager.on(currentContainer, EVENT_MOUSEUP, SELECTOR_ENDPOINT, this._endpointMouseup);\n      this.eventManager.on(currentContainer, EVENT_MOUSEDOWN, SELECTOR_ENDPOINT, this._endpointMousedown);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOVER, SELECTOR_OVERLAY, this._overlayMouseover);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOUT, SELECTOR_OVERLAY, this._overlayMouseout);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOVER, SELECTOR_MANAGED_ELEMENT, this._elementMouseenter);\n      this.eventManager.on(currentContainer, EVENT_MOUSEOUT, SELECTOR_MANAGED_ELEMENT, this._elementMouseexit);\n      this.eventManager.on(currentContainer, EVENT_MOUSEMOVE, SELECTOR_MANAGED_ELEMENT, this._elementMousemove);\n      this.eventManager.on(currentContainer, EVENT_MOUSEUP, SELECTOR_MANAGED_ELEMENT, this._elementMouseup);\n      this.eventManager.on(currentContainer, EVENT_MOUSEDOWN, SELECTOR_MANAGED_ELEMENT, this._elementMousedown);\n      this.eventManager.on(currentContainer, EVENT_CONTEXTMENU, SELECTOR_MANAGED_ELEMENT, this._elementContextmenu);\n    }\n  }, {\n    key: \"_detachEventDelegates\",\n    value: function _detachEventDelegates() {\n      var currentContainer = this.getContainer();\n      if (currentContainer) {\n        this.eventManager.off(currentContainer, EVENT_CLICK, this._connectorClick);\n        this.eventManager.off(currentContainer, EVENT_DBL_CLICK, this._connectorDblClick);\n        this.eventManager.off(currentContainer, EVENT_TAP, this._connectorTap);\n        this.eventManager.off(currentContainer, EVENT_DBL_TAP, this._connectorDblTap);\n        this.eventManager.off(currentContainer, EVENT_CLICK, this._endpointClick);\n        this.eventManager.off(currentContainer, EVENT_DBL_CLICK, this._endpointDblClick);\n        this.eventManager.off(currentContainer, EVENT_CLICK, this._overlayClick);\n        this.eventManager.off(currentContainer, EVENT_DBL_CLICK, this._overlayDblClick);\n        this.eventManager.off(currentContainer, EVENT_TAP, this._overlayTap);\n        this.eventManager.off(currentContainer, EVENT_DBL_TAP, this._overlayDblTap);\n        this.eventManager.off(currentContainer, EVENT_CLICK, this._elementClick);\n        this.eventManager.off(currentContainer, EVENT_TAP, this._elementTap);\n        this.eventManager.off(currentContainer, EVENT_DBL_TAP, this._elementDblTap);\n        this.eventManager.off(currentContainer, EVENT_MOUSEOVER, this._connectorMouseover);\n        this.eventManager.off(currentContainer, EVENT_MOUSEOUT, this._connectorMouseout);\n        this.eventManager.off(currentContainer, EVENT_CONTEXTMENU, this._connectorContextmenu);\n        this.eventManager.off(currentContainer, EVENT_MOUSEUP, this._connectorMouseup);\n        this.eventManager.off(currentContainer, EVENT_MOUSEDOWN, this._connectorMousedown);\n        this.eventManager.off(currentContainer, EVENT_MOUSEOVER, this._endpointMouseover);\n        this.eventManager.off(currentContainer, EVENT_MOUSEOUT, this._endpointMouseout);\n        this.eventManager.off(currentContainer, EVENT_MOUSEUP, this._endpointMouseup);\n        this.eventManager.off(currentContainer, EVENT_MOUSEDOWN, this._endpointMousedown);\n        this.eventManager.off(currentContainer, EVENT_MOUSEOVER, this._overlayMouseover);\n        this.eventManager.off(currentContainer, EVENT_MOUSEOUT, this._overlayMouseout);\n        this.eventManager.off(currentContainer, EVENT_MOUSEENTER, this._elementMouseenter);\n        this.eventManager.off(currentContainer, EVENT_MOUSEEXIT, this._elementMouseexit);\n        this.eventManager.off(currentContainer, EVENT_MOUSEMOVE, this._elementMousemove);\n        this.eventManager.off(currentContainer, EVENT_MOUSEUP, this._elementMouseup);\n        this.eventManager.off(currentContainer, EVENT_MOUSEDOWN, this._elementMousedown);\n        this.eventManager.off(currentContainer, EVENT_CONTEXTMENU, this._elementContextmenu);\n      }\n    }\n  }, {\n    key: \"setContainer\",\n    value: function setContainer(newContainer) {\n      var _this4 = this;\n      if (newContainer === document || newContainer === document.body) {\n        throw new Error(\"Cannot set document or document.body as container element\");\n      }\n      this._detachEventDelegates();\n      var dragFilters;\n      if (this.dragManager != null) {\n        dragFilters = this.dragManager.reset();\n      }\n      this.setAttribute(newContainer, ATTRIBUTE_CONTAINER, uuid().replace(\"-\", \"\"));\n      var currentContainer = this.getContainer();\n      if (currentContainer != null) {\n        currentContainer.removeAttribute(ATTRIBUTE_CONTAINER);\n        var children = fromArray(currentContainer.childNodes).filter(function (cn) {\n          return cn != null && (_this4.hasClass(cn, CLASS_CONNECTOR) || _this4.hasClass(cn, CLASS_ENDPOINT) || _this4.hasClass(cn, CLASS_OVERLAY) || cn.getAttribute && cn.getAttribute(ATTRIBUTE_MANAGED) != null);\n        });\n        forEach(children, function (el) {\n          newContainer.appendChild(el);\n        });\n      }\n      _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"setContainer\", this).call(this, newContainer);\n      if (this.eventManager != null) {\n        this._attachEventDelegates();\n      }\n      if (this.dragManager != null) {\n        this.dragManager.addHandler(new EndpointDragHandler(this));\n        this.dragManager.addHandler(new GroupDragHandler(this, this.dragSelection), this.groupDragOptions);\n        this.elementDragHandler = new ElementDragHandler(this, this.dragSelection);\n        this.dragManager.addHandler(this.elementDragHandler, this.elementDragOptions);\n        if (dragFilters != null) {\n          this.dragManager.setFilters(dragFilters);\n        }\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"reset\", this).call(this);\n      var container = this.getContainer();\n      var els = container.querySelectorAll([SELECTOR_MANAGED_ELEMENT, SELECTOR_ENDPOINT, SELECTOR_CONNECTOR, SELECTOR_OVERLAY].join(\",\"));\n      forEach(els, function (el) {\n        return el.parentNode && el.parentNode.removeChild(el);\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._detachEventDelegates();\n      if (this.dragManager != null) {\n        this.dragManager.reset();\n      }\n      this.clearDragSelection();\n      _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"destroy\", this).call(this);\n    }\n  }, {\n    key: \"unmanage\",\n    value: function unmanage(el, removeElement) {\n      this.removeFromDragSelection(el);\n      _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"unmanage\", this).call(this, el, removeElement);\n    }\n  }, {\n    key: \"addToDragSelection\",\n    value: function addToDragSelection() {\n      var _this5 = this;\n      for (var _len = arguments.length, el = new Array(_len), _key = 0; _key < _len; _key++) {\n        el[_key] = arguments[_key];\n      }\n      forEach(el, function (_el) {\n        return _this5.dragSelection.add(_el);\n      });\n    }\n  }, {\n    key: \"clearDragSelection\",\n    value: function clearDragSelection() {\n      this.dragSelection.clear();\n    }\n  }, {\n    key: \"removeFromDragSelection\",\n    value: function removeFromDragSelection() {\n      var _this6 = this;\n      for (var _len2 = arguments.length, el = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        el[_key2] = arguments[_key2];\n      }\n      forEach(el, function (_el) {\n        return _this6.dragSelection.remove(_el);\n      });\n    }\n  }, {\n    key: \"toggleDragSelection\",\n    value: function toggleDragSelection() {\n      var _this7 = this;\n      for (var _len3 = arguments.length, el = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        el[_key3] = arguments[_key3];\n      }\n      forEach(el, function (_el) {\n        return _this7.dragSelection.toggle(_el);\n      });\n    }\n  }, {\n    key: \"addToDragGroup\",\n    value: function addToDragGroup(spec) {\n      var _this$elementDragHand;\n      for (var _len4 = arguments.length, els = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        els[_key4 - 1] = arguments[_key4];\n      }\n      (_this$elementDragHand = this.elementDragHandler).addToDragGroup.apply(_this$elementDragHand, [spec].concat(els));\n    }\n  }, {\n    key: \"removeFromDragGroup\",\n    value: function removeFromDragGroup() {\n      var _this$elementDragHand2;\n      (_this$elementDragHand2 = this.elementDragHandler).removeFromDragGroup.apply(_this$elementDragHand2, arguments);\n    }\n  }, {\n    key: \"setDragGroupState\",\n    value: function setDragGroupState(state) {\n      var _this$elementDragHand3;\n      for (var _len5 = arguments.length, els = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n        els[_key5 - 1] = arguments[_key5];\n      }\n      (_this$elementDragHand3 = this.elementDragHandler).setDragGroupState.apply(_this$elementDragHand3, [state].concat(els));\n    }\n  }, {\n    key: \"consume\",\n    value: function consume$1(e, doNotPreventDefault) {\n      consume(e, doNotPreventDefault);\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(element, rotation, doNotRepaint) {\n      var elementId = this.getId(element);\n      if (this._managedElements[elementId]) {\n        this._managedElements[elementId].el.style.transform = \"rotate(\" + rotation + \"deg)\";\n        this._managedElements[elementId].el.style.transformOrigin = \"center center\";\n        return _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"rotate\", this).call(this, element, rotation, doNotRepaint);\n      }\n      return {\n        c: new Set(),\n        e: new Set()\n      };\n    }\n  }, {\n    key: \"addOverlayClass\",\n    value: function addOverlayClass(o, clazz) {\n      if (isLabelOverlay(o)) {\n        o.instance.addClass(getLabelElement(o), clazz);\n      } else if (isSVGElementOverlay(o)) {\n        o.instance.addClass(SVGElementOverlay.ensurePath(o), clazz);\n      } else if (isCustomOverlay(o)) {\n        o.instance.addClass(getCustomElement(o), clazz);\n      } else {\n        throw \"Could not add class to overlay of type [\" + o.type + \"]\";\n      }\n    }\n  }, {\n    key: \"removeOverlayClass\",\n    value: function removeOverlayClass(o, clazz) {\n      if (isLabelOverlay(o)) {\n        o.instance.removeClass(getLabelElement(o), clazz);\n      } else if (isSVGElementOverlay(o)) {\n        o.instance.removeClass(SVGElementOverlay.ensurePath(o), clazz);\n      } else if (isCustomOverlay(o)) {\n        o.instance.removeClass(getCustomElement(o), clazz);\n      } else {\n        throw \"Could not remove class from overlay of type [\" + o.type + \"]\";\n      }\n    }\n  }, {\n    key: \"_paintOverlay\",\n    value: function _paintOverlay(o, params, extents) {\n      if (isLabelOverlay(o)) {\n        getLabelElement(o);\n        var XY = o.component.getXY();\n        o.canvas.style.left = XY.x + params.d.minx + \"px\";\n        o.canvas.style.top = XY.y + params.d.miny + \"px\";\n      } else if (isSVGElementOverlay(o)) {\n        var path = isNaN(params.d.cxy.x) || isNaN(params.d.cxy.y) ? \"M 0 0\" : \"M\" + params.d.hxy.x + \",\" + params.d.hxy.y + \" L\" + params.d.tail[0].x + \",\" + params.d.tail[0].y + \" L\" + params.d.cxy.x + \",\" + params.d.cxy.y + \" L\" + params.d.tail[1].x + \",\" + params.d.tail[1].y + \" L\" + params.d.hxy.x + \",\" + params.d.hxy.y;\n        SVGElementOverlay.paint(o, path, params, extents);\n      } else if (isCustomOverlay(o)) {\n        getCustomElement(o);\n        var _XY = o.component.getXY();\n        o.canvas.style.left = _XY.x + params.d.minx + \"px\";\n        o.canvas.style.top = _XY.y + params.d.miny + \"px\";\n      } else {\n        throw \"Could not paint overlay of type [\" + o.type + \"]\";\n      }\n    }\n  }, {\n    key: \"setOverlayVisible\",\n    value: function setOverlayVisible(o, visible) {\n      var d = visible ? \"block\" : \"none\";\n      function s(el) {\n        if (el != null) {\n          el.style.display = d;\n        }\n      }\n      if (isLabelOverlay(o)) {\n        s(getLabelElement(o));\n      } else if (isCustomOverlay(o)) {\n        s(getCustomElement(o));\n      } else if (isSVGElementOverlay(o)) {\n        s(o.path);\n      }\n    }\n  }, {\n    key: \"reattachOverlay\",\n    value: function reattachOverlay(o, c) {\n      if (isLabelOverlay(o)) {\n        o.instance._appendElement(getLabelElement(o), this.getContainer());\n      } else if (isCustomOverlay(o)) {\n        o.instance._appendElement(getCustomElement(o), this.getContainer());\n      } else if (isSVGElementOverlay(o)) {\n        this._appendElement(SVGElementOverlay.ensurePath(o), c.connector.canvas);\n      }\n    }\n  }, {\n    key: \"setOverlayHover\",\n    value: function setOverlayHover(o, hover) {\n      var canvas;\n      if (isLabelOverlay(o)) {\n        canvas = getLabelElement(o);\n      } else if (isCustomOverlay(o)) {\n        canvas = getCustomElement(o);\n      } else if (isSVGElementOverlay(o)) {\n        canvas = SVGElementOverlay.ensurePath(o);\n      }\n      if (canvas != null) {\n        if (this.hoverClass != null) {\n          if (hover) {\n            this.addClass(canvas, this.hoverClass);\n          } else {\n            this.removeClass(canvas, this.hoverClass);\n          }\n        }\n        this.setHover(o.component, hover);\n      }\n    }\n  }, {\n    key: \"destroyOverlay\",\n    value: function destroyOverlay(o) {\n      if (isLabelOverlay(o)) {\n        var el = getLabelElement(o);\n        el.parentNode.removeChild(el);\n        delete o.canvas;\n        delete o.cachedDimensions;\n      } else if (isArrowOverlay(o) || isDiamondOverlay(o) || isPlainArrowOverlay(o)) {\n        SVGElementOverlay.destroy(o);\n      } else if (isCustomOverlay(o)) {\n        var _el2 = getCustomElement(o);\n        _el2.parentNode.removeChild(_el2);\n        delete o.canvas;\n        delete o.cachedDimensions;\n      }\n    }\n  }, {\n    key: \"drawOverlay\",\n    value: function drawOverlay(o, component, paintStyle, absolutePosition) {\n      if (isLabelOverlay(o) || isCustomOverlay(o)) {\n        var td = HTMLElementOverlay._getDimensions(o);\n        if (td != null && td.w != null && td.h != null) {\n          var cxy = {\n            x: 0,\n            y: 0\n          };\n          if (absolutePosition) {\n            cxy = {\n              x: absolutePosition.x,\n              y: absolutePosition.y\n            };\n          } else if (component instanceof EndpointRepresentation) {\n            var locToUse = Array.isArray(o.location) ? o.location : [o.location, o.location];\n            cxy = {\n              x: locToUse[0] * component.w,\n              y: locToUse[1] * component.h\n            };\n          } else {\n            var loc = o.location,\n                absolute = false;\n            if (isString(o.location) || o.location < 0 || o.location > 1) {\n              loc = parseInt(\"\" + o.location, 10);\n              absolute = true;\n            }\n            cxy = component.pointOnPath(loc, absolute);\n          }\n          var minx = cxy.x - td.w / 2,\n              miny = cxy.y - td.h / 2;\n          return {\n            component: o,\n            d: {\n              minx: minx,\n              miny: miny,\n              td: td,\n              cxy: cxy\n            },\n            xmin: minx,\n            xmax: minx + td.w,\n            ymin: miny,\n            ymax: miny + td.h\n          };\n        } else {\n          return {\n            xmin: 0,\n            xmax: 0,\n            ymin: 0,\n            ymax: 0\n          };\n        }\n      } else if (isArrowOverlay(o) || isDiamondOverlay(o) || isPlainArrowOverlay(o)) {\n        return o.draw(component, paintStyle, absolutePosition);\n      } else {\n        throw \"Could not draw overlay of type [\" + o.type + \"]\";\n      }\n    }\n  }, {\n    key: \"updateLabel\",\n    value: function updateLabel(o) {\n      if (isFunction(o.label)) {\n        var lt = o.label(this);\n        if (lt != null) {\n          getLabelElement(o).innerText = lt;\n        } else {\n          getLabelElement(o).innerText = \"\";\n        }\n      } else {\n        if (o.labelText == null) {\n          o.labelText = o.label;\n          if (o.labelText != null) {\n            getLabelElement(o).innerText = o.labelText;\n          } else {\n            getLabelElement(o).innerText = \"\";\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setHover\",\n    value: function setHover(component, hover) {\n      component._hover = hover;\n      if (component instanceof Endpoint && component.endpoint != null) {\n        this.setEndpointHover(component, hover, -1);\n      } else if (component instanceof Connection && component.connector != null) {\n        this.setConnectorHover(component.connector, hover);\n      }\n    }\n  }, {\n    key: \"paintConnector\",\n    value: function paintConnector(connector, paintStyle, extents) {\n      paintSvgConnector(this, connector, paintStyle, extents);\n    }\n  }, {\n    key: \"setConnectorHover\",\n    value: function setConnectorHover(connector, hover, sourceEndpoint) {\n      if (hover === false || !this.currentlyDragging && !this.isHoverSuspended()) {\n        var canvas = connector.canvas;\n        if (canvas != null) {\n          if (connector.hoverClass != null) {\n            if (hover) {\n              this.addClass(canvas, connector.hoverClass);\n            } else {\n              this.removeClass(canvas, connector.hoverClass);\n            }\n          }\n          if (hover) {\n            this.addClass(canvas, this.hoverClass);\n          } else {\n            this.removeClass(canvas, this.hoverClass);\n          }\n        }\n        if (connector.connection.hoverPaintStyle != null) {\n          connector.connection.paintStyleInUse = hover ? connector.connection.hoverPaintStyle : connector.connection.paintStyle;\n          if (!this._suspendDrawing) {\n            this._paintConnection(connector.connection);\n          }\n        }\n        if (connector.connection.endpoints[0] !== sourceEndpoint) {\n          this.setEndpointHover(connector.connection.endpoints[0], hover, 0, true);\n        }\n        if (connector.connection.endpoints[1] !== sourceEndpoint) {\n          this.setEndpointHover(connector.connection.endpoints[1], hover, 1, true);\n        }\n      }\n    }\n  }, {\n    key: \"destroyConnector\",\n    value: function destroyConnector(connection) {\n      if (connection.connector != null) {\n        cleanup(connection.connector);\n      }\n    }\n  }, {\n    key: \"addConnectorClass\",\n    value: function addConnectorClass(connector, clazz) {\n      if (connector.canvas) {\n        this.addClass(connector.canvas, clazz);\n      }\n    }\n  }, {\n    key: \"removeConnectorClass\",\n    value: function removeConnectorClass(connector, clazz) {\n      if (connector.canvas) {\n        this.removeClass(connector.canvas, clazz);\n      }\n    }\n  }, {\n    key: \"getConnectorClass\",\n    value: function getConnectorClass(connector) {\n      if (connector.canvas) {\n        return connector.canvas.className.baseVal;\n      } else {\n        return \"\";\n      }\n    }\n  }, {\n    key: \"setConnectorVisible\",\n    value: function setConnectorVisible(connector, v) {\n      setVisible(connector, v);\n    }\n  }, {\n    key: \"applyConnectorType\",\n    value: function applyConnectorType(connector, t) {\n      if (connector.canvas && t.cssClass) {\n        var classes = Array.isArray(t.cssClass) ? t.cssClass : [t.cssClass];\n        this.addClass(connector.canvas, classes.join(\" \"));\n      }\n    }\n  }, {\n    key: \"addEndpointClass\",\n    value: function addEndpointClass(ep, c) {\n      var canvas = getEndpointCanvas(ep.endpoint);\n      if (canvas != null) {\n        this.addClass(canvas, c);\n      }\n    }\n  }, {\n    key: \"applyEndpointType\",\n    value: function applyEndpointType(ep, t) {\n      if (t.cssClass) {\n        var canvas = getEndpointCanvas(ep.endpoint);\n        if (canvas) {\n          var classes = Array.isArray(t.cssClass) ? t.cssClass : [t.cssClass];\n          this.addClass(canvas, classes.join(\" \"));\n        }\n      }\n    }\n  }, {\n    key: \"destroyEndpoint\",\n    value: function destroyEndpoint(ep) {\n      var anchorClass = this.endpointAnchorClassPrefix + (ep.currentAnchorClass ? \"-\" + ep.currentAnchorClass : \"\");\n      this.removeClass(ep.element, anchorClass);\n      cleanup(ep.endpoint);\n    }\n  }, {\n    key: \"renderEndpoint\",\n    value: function renderEndpoint(ep, paintStyle) {\n      var renderer = endpointMap[ep.endpoint.type];\n      if (renderer != null) {\n        SvgEndpoint.paint(ep.endpoint, renderer, paintStyle);\n      } else {\n        log(\"jsPlumb: no endpoint renderer found for type [\" + ep.endpoint.type + \"]\");\n      }\n    }\n  }, {\n    key: \"removeEndpointClass\",\n    value: function removeEndpointClass(ep, c) {\n      var canvas = getEndpointCanvas(ep.endpoint);\n      if (canvas != null) {\n        this.removeClass(canvas, c);\n      }\n    }\n  }, {\n    key: \"getEndpointClass\",\n    value: function getEndpointClass(ep) {\n      var canvas = getEndpointCanvas(ep.endpoint);\n      if (canvas != null) {\n        return canvas.className;\n      } else {\n        return \"\";\n      }\n    }\n  }, {\n    key: \"setEndpointHover\",\n    value: function setEndpointHover(endpoint, hover, endpointIndex, doNotCascade) {\n      if (endpoint != null && (hover === false || !this.currentlyDragging && !this.isHoverSuspended())) {\n        var canvas = getEndpointCanvas(endpoint.endpoint);\n        if (canvas != null) {\n          if (endpoint.hoverClass != null) {\n            if (hover) {\n              this.addClass(canvas, endpoint.hoverClass);\n            } else {\n              this.removeClass(canvas, endpoint.hoverClass);\n            }\n          }\n          if (endpointIndex === 0 || endpointIndex === 1) {\n            var genericHoverClass = endpointIndex === 0 ? this.hoverSourceClass : this.hoverTargetClass;\n            if (hover) {\n              this.addClass(canvas, genericHoverClass);\n            } else {\n              this.removeClass(canvas, genericHoverClass);\n            }\n          }\n        }\n        if (endpoint.hoverPaintStyle != null) {\n          endpoint.paintStyleInUse = hover ? endpoint.hoverPaintStyle : endpoint.paintStyle;\n          if (!this._suspendDrawing) {\n            this.renderEndpoint(endpoint, endpoint.paintStyleInUse);\n          }\n        }\n        if (!doNotCascade) {\n          for (var i = 0; i < endpoint.connections.length; i++) {\n            this.setConnectorHover(endpoint.connections[i].connector, hover, endpoint);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setEndpointVisible\",\n    value: function setEndpointVisible(ep, v) {\n      setVisible(ep.endpoint, v);\n    }\n  }, {\n    key: \"setGroupVisible\",\n    value: function setGroupVisible(group, state) {\n      var m = group.el.querySelectorAll(SELECTOR_MANAGED_ELEMENT);\n      for (var i = 0; i < m.length; i++) {\n        if (state) {\n          this.show(m[i], true);\n        } else {\n          this.hide(m[i], true);\n        }\n      }\n    }\n  }, {\n    key: \"deleteConnection\",\n    value: function deleteConnection(connection, params) {\n      if (connection != null && connection.deleted !== true) {\n        this.setEndpointHover(connection.endpoints[0], false, 0, true);\n        this.setEndpointHover(connection.endpoints[1], false, 1, true);\n        return _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"deleteConnection\", this).call(this, connection, params);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"addSourceSelector\",\n    value: function addSourceSelector(selector, params, exclude) {\n      this.addDragFilter(selector);\n      return _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"addSourceSelector\", this).call(this, selector, params, exclude);\n    }\n  }, {\n    key: \"removeSourceSelector\",\n    value: function removeSourceSelector(selector) {\n      this.removeDragFilter(selector.selector);\n      _get(_getPrototypeOf(BrowserJsPlumbInstance.prototype), \"removeSourceSelector\", this).call(this, selector);\n    }\n  }]);\n  return BrowserJsPlumbInstance;\n}(JsPlumbInstance);\n\nvar CIRCLE = \"circle\";\nvar register$2 = function register() {\n  registerEndpointRenderer(DotEndpoint.type, {\n    makeNode: function makeNode(ep, style) {\n      return _node(CIRCLE, {\n        \"cx\": ep.w / 2,\n        \"cy\": ep.h / 2,\n        \"r\": ep.radius\n      });\n    },\n    updateNode: function updateNode(ep, node) {\n      _attr(node, {\n        \"cx\": \"\" + ep.w / 2,\n        \"cy\": \"\" + ep.h / 2,\n        \"r\": \"\" + ep.radius\n      });\n    }\n  });\n};\n\nvar RECT = \"rect\";\nvar register$1 = function register() {\n  registerEndpointRenderer(RectangleEndpoint.type, {\n    makeNode: function makeNode(ep, style) {\n      return _node(RECT, {\n        \"width\": ep.w,\n        \"height\": ep.h\n      });\n    },\n    updateNode: function updateNode(ep, node) {\n      _attr(node, {\n        \"width\": ep.w,\n        \"height\": ep.h\n      });\n    }\n  });\n};\n\nvar BLANK_ATTRIBUTES = {\n  \"width\": 10,\n  \"height\": 0,\n  \"fill\": \"transparent\",\n  \"stroke\": \"transparent\"\n};\nvar register = function register() {\n  registerEndpointRenderer(BlankEndpoint.type, {\n    makeNode: function makeNode(ep, style) {\n      return _node(\"rect\", BLANK_ATTRIBUTES);\n    },\n    updateNode: function updateNode(ep, node) {\n      _attr(node, BLANK_ATTRIBUTES);\n    }\n  });\n};\n\nregister$2();\nregister();\nregister$1();\nvar _jsPlumbInstanceIndex = 0;\nfunction getInstanceIndex() {\n  var i = _jsPlumbInstanceIndex + 1;\n  _jsPlumbInstanceIndex++;\n  return i;\n}\nfunction newInstance(defaults) {\n  return new BrowserJsPlumbInstance(getInstanceIndex(), defaults);\n}\nfunction ready(f) {\n  var _do = function _do() {\n    if (/complete|loaded|interactive/.test(document.readyState) && typeof document.body !== \"undefined\" && document.body != null) {\n      f();\n    } else {\n      setTimeout(_do, 9);\n    }\n  };\n  _do();\n}\n\nexport { ATTRIBUTE_CONTAINER, ATTRIBUTE_GROUP_CONTENT, ATTRIBUTE_JTK_ENABLED, ATTRIBUTE_JTK_SCOPE, BrowserJsPlumbInstance, CLASS_DELEGATED_DRAGGABLE, CLASS_DRAGGABLE, CLASS_DRAGGED, CLASS_DRAG_ACTIVE, CLASS_DRAG_CONTAINER, CLASS_DRAG_HOVER, CLASS_GHOST_PROXY, CONNECTION, Collicat, ContainmentType, Drag, DragManager, ELEMENT, ELEMENT_DIV, ENDPOINT, EVENT_BEFORE_START, EVENT_CLICK, EVENT_CONNECTION_ABORT, EVENT_CONNECTION_CLICK, EVENT_CONNECTION_CONTEXTMENU, EVENT_CONNECTION_DBL_CLICK, EVENT_CONNECTION_DBL_TAP, EVENT_CONNECTION_DRAG, EVENT_CONNECTION_MOUSEDOWN, EVENT_CONNECTION_MOUSEOUT, EVENT_CONNECTION_MOUSEOVER, EVENT_CONNECTION_MOUSEUP, EVENT_CONNECTION_TAP, EVENT_CONTEXTMENU, EVENT_DBL_CLICK, EVENT_DBL_TAP, EVENT_DRAG, EVENT_DRAG_MOVE, EVENT_DRAG_START, EVENT_DRAG_STOP, EVENT_DROP, EVENT_ELEMENT_CLICK, EVENT_ELEMENT_CONTEXTMENU, EVENT_ELEMENT_DBL_CLICK, EVENT_ELEMENT_DBL_TAP, EVENT_ELEMENT_MOUSE_DOWN, EVENT_ELEMENT_MOUSE_MOVE, EVENT_ELEMENT_MOUSE_OUT, EVENT_ELEMENT_MOUSE_OVER, EVENT_ELEMENT_MOUSE_UP, EVENT_ELEMENT_TAP, EVENT_ENDPOINT_CLICK, EVENT_ENDPOINT_DBL_CLICK, EVENT_ENDPOINT_DBL_TAP, EVENT_ENDPOINT_MOUSEDOWN, EVENT_ENDPOINT_MOUSEOUT, EVENT_ENDPOINT_MOUSEOVER, EVENT_ENDPOINT_MOUSEUP, EVENT_ENDPOINT_TAP, EVENT_FOCUS, EVENT_MOUSEDOWN, EVENT_MOUSEENTER, EVENT_MOUSEEXIT, EVENT_MOUSEMOVE, EVENT_MOUSEOUT, EVENT_MOUSEOVER, EVENT_MOUSEUP, EVENT_OUT, EVENT_OVER, EVENT_REVERT, EVENT_START, EVENT_STOP, EVENT_TAP, ElementDragHandler, EventManager, PROPERTY_POSITION, SELECTOR_CONNECTOR, SELECTOR_ENDPOINT, SELECTOR_GROUP, SELECTOR_GROUP_CONTAINER, SELECTOR_OVERLAY, addClass, compoundEvent, consume, createElement, createElementNS, findParent, getClass, getEventSource, getPositionOnElement, getTouch, groupDragConstrain, hasClass, isArrayLike, isInsideParent, isNodeList, matchesSelector$1 as matchesSelector, newInstance, offsetRelativeToRoot, pageLocation, ready, registerEndpointRenderer, removeClass, size, toggleClass, touchCount, touches };\n"],"names":[],"mappings":"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"}